<!DOCTYPE html><html><head><title>Lemmy Long Legs 2</title><meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1"><meta charset="UTF-8"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="description" content=""><link rel="manifest" href="manifest.json"><link rel="icon" type="image/png" href="icon64.png"><link rel="apple-touch-icon" sizes="180x180" href="icon180.png"><link rel="icon" type="image/png" sizes="32x32" href="icon32.png"><link rel="icon" type="image/png" sizes="16x16" href="icon16.png"><style>html,body {
  margin: 0;
  padding: 0;
  background-color: #000;
  overflow:hidden;
  font-family: Verdana;
}
.noselect {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
#canvaswrapper {
  text-align: center ;
}
</style><style>@font-face { font-family: "BitCell" ; src: url("fonts/BitCell.ttf") format("truetype"); }</style><style>@font-face { font-family: "GrapeSoda" ; src: url("fonts/GrapeSoda.ttf") format("truetype"); }</style><script>window.fonts = ["BitCell","GrapeSoda"]</script></head><body class="noselect custom-cursor" oncontextmenu="return false;"><div id="canvaswrapper"></div><script type="text/javascript">var resources = {"images":[{"file":"_colb_colh_colg_cold_damage.png","version":2,"size":1268,"properties":{"frames":1,"fps":5}},{"file":"_colb_oneway_.png","version":43,"size":238,"properties":{"frames":1,"fps":5}},{"file":"_cold_onewayright_.png","version":28,"size":231,"properties":{"frames":1,"fps":5}},{"file":"_colg_onewayleft_.png","version":17,"size":233,"properties":{"frames":1,"fps":5}},{"file":"_colh_colb_cold_colg_.png","version":22,"size":133,"properties":{"frames":1,"fps":5}},{"file":"_colh_colb_colg_cold.png","version":47,"size":521,"properties":{"frames":1,"fps":5}},{"file":"_colh_oneway_.png","version":18,"size":241,"properties":{"frames":1,"fps":5}},{"file":"_corners.png","version":138,"size":232,"properties":{"frames":1,"fps":5}},{"file":"_old_gemme.png","version":1,"size":141,"properties":{}},{"file":"_pgemb_colh_colb_colg_cold.png","version":1,"size":203,"properties":{}},{"file":"_pgemb_ouverte.png","version":1,"size":224,"properties":{}},{"file":"_pgemj_colh_colb_colg_cold.png","version":1,"size":184,"properties":{}},{"file":"_pgemj_ouverte.png","version":1,"size":201,"properties":{}},{"file":"_pgemr_colh_colb_colg_cold.png","version":1,"size":179,"properties":{}},{"file":"_pgemr_ouverte.png","version":1,"size":207,"properties":{"frames":1,"fps":5}},{"file":"arrowdown.png","version":1,"size":209,"properties":{}},{"file":"arrowdownleft.png","version":75,"size":218,"properties":{"frames":1,"fps":5}},{"file":"arrowdownright.png","version":1,"size":224,"properties":{}},{"file":"arrowleft.png","version":11,"size":194,"properties":{"frames":1,"fps":5}},{"file":"arrowright.png","version":1,"size":187,"properties":{}},{"file":"arrowup.png","version":1,"size":200,"properties":{}},{"file":"arrowupleft.png","version":24,"size":225,"properties":{"frames":1,"fps":5}},{"file":"arrowupright.png","version":15,"size":218,"properties":{"frames":1,"fps":5}},{"file":"cannon.png","version":9,"size":367,"properties":{"frames":2,"fps":5}},{"file":"cannonball.png","version":13,"size":302,"properties":{"frames":1,"fps":5}},{"file":"cannonballparticule.png","version":30,"size":166,"properties":{"frames":1,"fps":60}},{"file":"cannonl.png","version":109,"size":360,"properties":{"frames":2,"fps":5}},{"file":"checkpoint.png","version":413,"size":958,"properties":{"frames":12,"fps":10}},{"file":"cube.png","version":119,"size":376,"properties":{"frames":4,"fps":5}},{"file":"easteregg.png","version":1,"size":954,"properties":{"frames":5,"fps":16}},{"file":"evil.png","version":2,"size":176,"properties":{"frames":1,"fps":5}},{"file":"evil_course.png","version":3,"size":252,"properties":{"frames":2,"fps":8}},{"file":"evil_pieds.png","version":1,"size":95,"properties":{"frames":1,"fps":5}},{"file":"evil_saut.png","version":2,"size":165,"properties":{"frames":1,"fps":5}},{"file":"evilghost.png","version":52,"size":412,"properties":{"frames":4,"fps":5}},{"file":"flyingcannon.png","version":40,"size":362,"properties":{"frames":2,"fps":5}},{"file":"flyingcannonball.png","version":211,"size":778,"properties":{"frames":4,"fps":8}},{"file":"flyingcannonl.png","version":21,"size":356,"properties":{"frames":2,"fps":5}},{"file":"gemmeb.png","version":1,"size":325,"properties":{"frames":6,"fps":5}},{"file":"gemmej.png","version":1,"size":312,"properties":{"frames":6,"fps":5}},{"file":"gemmer.png","version":1,"size":320,"properties":{"frames":6,"fps":5}},{"file":"heroghost.png","version":112,"size":452,"properties":{"frames":4,"fps":7}},{"file":"icon.png","version":250,"size":4127,"properties":{"frames":1,"fps":5}},{"file":"landscapeformat.png","version":1,"size":245,"properties":{"frames":1,"fps":1}},{"file":"layer1.png","version":14,"size":685,"properties":{"frames":1,"fps":5}},{"file":"layer1_1.png","version":66,"size":324,"properties":{"frames":1,"fps":5}},{"file":"layer1_2.png","version":2,"size":284,"properties":{"frames":1,"fps":5}},{"file":"layer1_3.png","version":36,"size":313,"properties":{"frames":1,"fps":5}},{"file":"layer2.png","version":48,"size":1141,"properties":{"frames":1,"fps":5}},{"file":"layer2_1.png","version":65,"size":329,"properties":{"frames":1,"fps":5}},{"file":"layer2_2.png","version":30,"size":245,"properties":{"frames":1,"fps":5}},{"file":"layer2_3.png","version":2,"size":205,"properties":{"frames":1,"fps":5}},{"file":"layer3.png","version":5,"size":463,"properties":{"frames":1,"fps":5}},{"file":"layer3_1.png","version":2,"size":195,"properties":{"frames":1,"fps":5}},{"file":"layer3_2.png","version":19,"size":173,"properties":{"frames":1,"fps":5}},{"file":"layer3_3.png","version":18,"size":194,"properties":{"frames":1,"fps":5}},{"file":"loading.png","version":18,"size":182,"properties":{"frames":1,"fps":5}},{"file":"mushroom.png","version":10,"size":245,"properties":{"frames":1,"fps":5}},{"file":"old_powerup_fast.png","version":1,"size":257,"properties":{"frames":1,"fps":5}},{"file":"panneau.png","version":1,"size":1716,"properties":{"frames":8,"fps":2}},{"file":"pasteque.png","version":24,"size":801,"properties":{"frames":6,"fps":5}},{"file":"perso.png","version":105,"size":781,"properties":{"frames":12,"fps":3}},{"file":"perso_course.png","version":167,"size":255,"properties":{"frames":2,"fps":8}},{"file":"perso_pieds.png","version":1,"size":97,"properties":{"frames":1,"fps":5}},{"file":"perso_saut.png","version":90,"size":171,"properties":{"frames":1,"fps":5}},{"file":"persoarrow.png","version":73,"size":412,"properties":{"frames":5,"fps":5}},{"file":"persoarrow2.png","version":17,"size":223,"properties":{"frames":1,"fps":5}},{"file":"portraitformat.png","version":3,"size":220,"properties":{"frames":1,"fps":5}},{"file":"poster.png","version":1,"size":19966,"properties":{"frames":1,"fps":5}},{"file":"powerup_fast.png","version":19,"size":739,"properties":{"frames":1,"fps":5}},{"file":"powerup_grow.png","version":37,"size":193,"properties":{"frames":1,"fps":5}},{"file":"powerup_heavy.png","version":31,"size":1007,"properties":{"frames":1,"fps":5}},{"file":"smartwalker.png","version":1,"size":262,"properties":{"frames":2,"fps":5}},{"file":"sprite.png","version":1379,"size":83,"properties":{"frames":1,"fps":5}},{"file":"sprite2.png","version":7,"size":125,"properties":{"frames":1,"fps":5}},{"file":"strawberry.png","version":114,"size":668,"properties":{"frames":6,"fps":5}},{"file":"touchblank.png","version":43,"size":259,"properties":{"frames":2,"fps":1}},{"file":"touchleft.png","version":105,"size":429,"properties":{"frames":2,"fps":1}},{"file":"touchmusic.png","version":49,"size":389,"properties":{"frames":2,"fps":1}},{"file":"touchpause.png","version":69,"size":301,"properties":{"frames":2,"fps":1}},{"file":"touchrespawn.png","version":69,"size":426,"properties":{"frames":2,"fps":1}},{"file":"touchright.png","version":35,"size":370,"properties":{"frames":2,"fps":1}},{"file":"touchsound.png","version":3,"size":404,"properties":{"frames":2,"fps":1}},{"file":"touchup.png","version":76,"size":375,"properties":{"frames":2,"fps":1}},{"file":"walker.png","version":47,"size":269,"properties":{"frames":2,"fps":5}},{"file":"water.png","version":12,"size":567,"properties":{"frames":6,"fps":5}}],"assets":[],"maps":{"map0":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"arrowright\",\"_colh_colb_colg_cold:2,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,3,0,0,0,0,0,1,1,1,1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map1":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_cold_colg_:0,0\",\"_corners:2,2\",\"_corners:0,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"sprite\",\"cube\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,3,1,1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,0,0,0,0,0,0,0,0,0,0,7,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2]}","map10":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,1\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,1\",\"_corners:0,2\",\"_corners:2,2\",\"_colh_colb_colg_cold:2,0\",\"cube\",\"_corners:2,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,3,4,1,1,1,1,1,5,0,0,0,0,0,0,0,0,0,0,6,1,1,1,7,0,8,0,8,0,8,0,8,0,8,0,0,1,1,1,0,0,0,8,0,8,0,8,0,8,0,8,9,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map11":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_corners:0,2\",\"_colh_colb_colg_cold:2,0\",\"checkpoint\",\"_colh_colb_colg_cold:1,0\",\"_colb_oneway_\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,2\",\"_corners:0,0\",\"_corners:2,0\",\"_colh_colb_colg_cold:2,1\",\"_colh_colb_colg_cold:0,1\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,2,3,1,4,0,2,1,5,4,6,0,0,0,0,0,0,0,6,1,0,0,0,1,4,0,0,0,0,0,0,0,0,0,0,7,8,8,8,7,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,11,0,0,0,0,0,0,0,0,0,0,0,0,12,1,1,13,8,8,0,0,0,0,0,0,0,8,8,14,1,1]}","map12":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_oneway_\",\"gemmeb\",\"_pgemb_ouverte\",\"checkpoint\",\"_corners:2,2\",\"_colh_colb_colg_cold:1,2\",\"gemmej\",\"_colh_colb_colg_cold:2,2\",\"_corners:0,0\",\"_corners:2,0\",\"_colh_colb_colg_cold:1,0\",\"_colh_colb_colg_cold:0,0\",\"_pgemj_colh_colb_colg_cold\",\"_colh_colb_colg_cold:2,1\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,0\",\"_colb_colh_colg_cold_damage:2,0\",\"sprite\",\"_colb_colh_colg_cold_damage:0,1\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,2,2,3,2,4,0,5,6,1,0,0,0,0,0,0,0,7,4,7,0,7,0,0,0,1,0,0,0,0,0,0,0,1,3,1,8,1,0,0,0,1,9,0,0,0,0,0,0,1,8,1,0,1,10,0,11,1,1,0,0,0,0,0,0,12,2,1,2,13,1,1,1,1,1,10,0,0,0,0,0,0,11,1,0,0,0,0,14,4,1,1,1,15,16,16,17,1,1,18,0,0,0,0,14,4,18,19,20,20,20,20,20,20,20,20,0,20,20,21,1,1]}","map13":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_:0,0\",\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"checkpoint\",\"_corners:2,2\",\"_pgemb_colh_colb_colg_cold\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:0,2\",\"_corners:2,0\",\"_colh_colb_colg_cold:1,2\",\"gemmeb\",\"_corners:0,0\",\"cube\",\"_corners:1,0\",\"_colh_colb_colg_cold:2,2\",\"walker\"],\"data\":[1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,3,0,0,0,4,0,0,0,0,0,0,0,0,5,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,6,9,0,0,0,0,10,11,12,11,13,14,14,10,11,13,6,2,0,0,0,10,9,2,15,2,16,13,10,9,2,16,17,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]}","map14":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,2\",\"_corners:0,0\",\"_colh_oneway_\",\"cube\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_colb_oneway_\",\"_colh_colb_colg_cold:1,1\",\"walker\"],\"data\":[1,1,1,1,2,3,0,0,4,4,4,4,4,4,4,4,1,1,1,1,1,1,2,3,0,5,0,5,0,5,0,5,1,1,1,1,1,1,1,1,2,3,5,0,5,0,5,0,1,1,1,1,1,1,1,1,1,1,2,3,0,5,0,5,0,0,0,6,7,1,1,1,1,1,1,1,2,3,5,0,0,0,0,0,0,6,7,1,1,1,1,1,1,1,1,1,2,0,0,0,0,0,0,6,7,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,6,7,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,7,1,1,1,8,9,9,10,0,0,0,0,0,0,0,0,0,0,11,0]}","map15":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_oneway_\",\"_corners:2,0\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:0,1\",\"_corners:2,2\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_corners:0,2\",\"smartwalker\"],\"data\":[1,1,1,1,1,1,1,1,1,0,2,3,4,4,4,4,0,0,0,0,0,0,0,0,0,5,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,6,4,4,4,4,4,0,0,0,0,2,3,4,4,4,7,0,8,4,9,10,0,0,0,2,3,4,4,4,4,4,4,1,1,11,0,0,0,4,4,4,4,4,4,4,4,4,9,0,0,0,0,0,0,4,4,4,4,4,4,4,9,10,11,0,0,0,0,0,0,4,4,4,4,4,9,10,0,0,0,0,0,0,0,0,0,4,4,4,9,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map16":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,0\",\"checkpoint\",\"_corners:0,1\",\"smartwalker\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,1\"],\"data\":[1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,2,0,1,1,1,1,1,1,1,1,2,0,1,1,0,3,0,0,1,1,1,1,4,0,0,0,5,0,1,1,0,0,0,0,6,1,1,1,7,0,0,0,0,0,1,1,0,0,0,0,0,5,0,0,0,0,0,0,0,0,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map17":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"arrowright\",\"_corners:2,2\",\"_colh_colb_colg_cold:1,0\",\"_pgemb_colh_colb_colg_cold\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,2\",\"_colh_oneway_\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"gemmeb\",\"_colg_onewayleft_\",\"cube\",\"checkpoint\",\"_colh_colb_colg_cold:2,1\",\"_colb_oneway_\",\"walker\",\"_colh_colb_colg_cold:0,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,3,3,0,0,0,0,4,5,2,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,6,6,6,7,1,1,1,1,1,1,1,8,9,10,1,11,0,12,0,13,14,0,14,0,14,0,14,5,0,1,0,15,0,0,0,13,0,14,0,14,0,14,0,0,0,1,0,0,0,0,0,10,1,1,1,1,1,1,1,16,17,1,0,0,0,0,0,1,2,9,9,9,9,9,9,9,9,1,0,0,0,17,17,5,0,0,0,0,0,0,0,6,18,19]}","map18":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:2,2\",\"_corners:1,2\",\"_colh_colb_colg_cold:1,0\",\"_corners:0,2\",\"_colh_colb_colg_cold:1,2\",\"_colh_oneway_\",\"_colh_colb_colg_cold:2,2\",\"arrowright\",\"_colh_colb_colg_cold:0,0\",\"_corners:1,0\",\"_corners:0,0\",\"_corners:2,0\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"cube\",\"walker\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,2,1,3,1,3,4,3,1,5,0,2,1,0,0,0,0,0,4,0,1,0,0,0,1,0,6,7,1,1,1,1,8,9,0,0,1,0,6,0,4,0,1,0,10,1,1,1,1,0,6,0,4,0,1,0,0,0,1,0,0,1,1,1,1,11,1,12,0,13,1,11,6,11,1,14,15,1,1,1,1,1,1,1,1,1,1,1,1,1,16,0,1,1,1,5,7,7,7,7,7,7,7,7,7,7,7,7,1,1,16,0,17,0,17,0,17,0,17,0,17,0,17,18,10]}","map19":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,0\",\"_corners:0,2\",\"walker\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_oneway_\",\"_colh_colb_colg_cold:2,2\",\"smartwalker\",\"checkpoint\",\"cube\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,4,0,0,0,0,0,5,6,1,1,1,1,2,3,0,0,0,0,0,0,0,0,0,0,5,6,1,0,0,0,0,0,7,7,7,7,7,7,0,0,0,0,0,8,0,0,0,0,0,0,9,10,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,11,11,0,0,0,0,0,0,0]}","map2":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_corners:0,2\",\"checkpoint\"],\"data\":[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,2,3,1,1,0,0,1,1,4,5,0,0,0,0,0,0,0,2,3,4,0,0,3,4,5,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map20":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,1\",\"_colb_oneway_\",\"walker\",\"_colh_oneway_\",\"_corners:2,1\",\"_colh_colb_colg_cold:2,1\",\"_colh_colb_colg_cold:0,1\",\"_corners:2,2\",\"_corners:0,2\",\"_colh_colb_colg_cold:0,0\",\"_colb_colh_colg_cold_damage:3,0\",\"_colh_colb_colg_cold:2,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,3,4,0,0,4,0,0,0,0,5,5,6,1,1,7,3,3,8,1,1,1,1,1,1,7,5,5,8,1,0,0,0,0,9,1,1,1,1,1,1,10,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,11,1,12,12,1,13,0,0,0,0,0]}","map21":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"cannonball\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,3,4,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,3,4,1,1,1,1,5,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map22":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,0\",\"_colh_oneway_\",\"cannonl\",\"checkpoint\",\"_colh_colb_colg_cold:0,0\",\"cannon\"],\"data\":[1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,2,0,3,3,3,3,0,1,1,1,1,2,0,1,1,1,4,0,0,0,0,0,0,1,1,0,5,0,0,6,1,2,3,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,7,0,0,0,0,0,0,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map23":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:3,0\",\"_corners:0,2\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_pgemb_colh_colb_colg_cold\",\"checkpoint\",\"_colh_colb_colg_cold:1,1\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:2,1\",\"cannon\",\"_colh_colb_colg_cold:0,1\",\"gemmeb\",\"flyingcannon\",\"_colh_colb_colg_cold:1,0\"],\"data\":[1,1,1,1,1,1,1,1,2,2,2,2,1,1,1,1,1,3,0,0,0,0,0,0,0,0,0,0,0,4,5,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,6,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,1,0,0,0,0,0,0,0,8,0,0,0,0,0,9,1,10,0,0,0,0,0,0,0,0,0,0,0,0,0,5,1,0,0,0,9,1,11,0,0,0,0,0,0,0,0,12,1,0,0,0,1,3,0,0,0,0,0,0,0,0,0,13,1,0,0,0,1,14,0,0,0,0,0,0,0,0,0,15,1,0,0,0,16,0,0,0,0,0,0,0,0,0,0,0,5]}","map24":"{\"width\":16,\"height\":10,\"block_width\":16,\"block_height\":16,\"sprites\":[0,\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:1,1\",\"_colh_colb_cold_colg_:0,1\",\"_colh_colb_cold_colg_:1,1\",\"_colb_colh_colg_cold_damage:6,1\",\"_colb_colh_colg_cold_damage:7,1\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:1,0\",\"_colh_colb_cold_colg_:0,0\",\"_colh_colb_cold_colg_:1,0\",\"_colb_colh_colg_cold_damage:6,0\",\"_colb_colh_colg_cold_damage:7,0\",\"_corners:5,5\",\"arrowright:0,1\",\"arrowright:1,1\",\"_colh_colb_colg_cold:2,5\",\"_colh_colb_colg_cold:3,5\",\"sprite:0,0\",\"arrowright:0,0\",\"arrowright:1,0\",\"_colh_colb_colg_cold:2,4\",\"_colh_colb_colg_cold:3,4\",\"_colh_colb_colg_cold:0,5\",\"_colh_colb_colg_cold:1,5\",\"_corners:2,0\",\"_corners:3,0\",\"_corners:5,0\",\"_colh_colb_colg_cold:0,4\",\"_colh_colb_colg_cold:1,4\",\"_colh_colb_colg_cold:4,1\",\"_colh_colb_colg_cold:5,1\",\"_colb_oneway_:0,1\",\"_colb_oneway_:1,1\",\"_colh_colb_colg_cold:0,3\",\"_colh_colb_colg_cold:1,3\",\"_colh_colb_colg_cold:4,0\",\"_colh_colb_colg_cold:5,0\",\"_colb_oneway_:0,0\",\"_colb_oneway_:1,0\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:1,2\"],\"data\":[1,2,3,4,3,4,3,4,5,6,3,4,3,4,3,4,7,8,9,10,9,10,9,10,11,12,9,10,9,10,9,10,0,0,0,0,0,0,0,0,0,0,0,0,0,13,1,2,0,0,0,0,0,0,14,15,0,0,0,0,0,0,7,8,16,17,0,18,18,0,19,20,0,0,0,0,0,0,0,0,21,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,4,0,0,16,17,0,0,0,0,0,0,0,0,23,24,9,10,25,26,21,22,0,0,0,0,0,0,0,27,28,29,3,4,3,4,30,31,32,33,32,33,32,33,34,35,3,4,9,10,9,10,36,37,38,39,38,39,38,39,40,41,9,10]}","map25":"{\"width\":16,\"height\":10,\"block_width\":16,\"block_height\":16,\"sprites\":[0,\"_colh_colb_cold_colg_:0,1\",\"_colh_colb_cold_colg_:1,1\",\"_colh_colb_cold_colg_:0,0\",\"_colh_colb_cold_colg_:1,0\",\"_colb_colh_colg_cold_damage:2,1\",\"_colb_colh_colg_cold_damage:3,1\",\"_corners:5,5\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:1,1\",\"_colb_colh_colg_cold_damage:2,0\",\"_colb_colh_colg_cold_damage:3,0\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:1,0\",\"_colh_colb_colg_cold:4,5\",\"_colh_colb_colg_cold:5,5\",\"_colh_colb_colg_cold:4,4\",\"_colh_colb_colg_cold:5,4\",\"_colh_colb_colg_cold:4,1\",\"_colh_colb_colg_cold:5,1\",\"_colb_colh_colg_cold_damage:2,3\",\"_colb_colh_colg_cold_damage:3,3\",\"_colh_colb_colg_cold:4,0\",\"_colh_colb_colg_cold:5,0\",\"_colb_colh_colg_cold_damage:2,2\",\"_colb_colh_colg_cold_damage:3,2\"],\"data\":[1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,3,4,3,4,3,4,3,4,3,4,3,4,3,4,3,4,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,3,4,3,4,3,4,3,4,3,4,3,4,3,4,3,4,0,0,0,0,0,0,5,6,0,0,0,0,0,7,8,9,0,0,0,0,0,0,10,11,0,0,0,0,0,0,12,13,14,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,19,0,0,0,0,0,0,0,0,20,21,0,0,0,0,22,23,0,0,0,0,0,0,0,0,24,25,0,0,0,0]}","map26":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"_pgemr_ouverte\",\"_pgemb_colh_colb_colg_cold\",\"gemmeb\",\"gemmer\",\"_corners:0,0\",\"_colg_onewayleft_\",\"_colh_colb_colg_cold:2,1\",\"_pgemb_ouverte\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,2\",\"flyingcannonl\",\"_corners:2,2\",\"flyingcannon\",\"_colh_oneway_\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"checkpoint\",\"_pgemr_colh_colb_colg_cold\",\"cube\",\"_colb_oneway_\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,3,0,0,0,4,0,0,0,1,1,1,1,1,0,5,0,3,0,0,0,4,0,6,0,1,1,1,1,1,7,0,0,3,0,0,0,8,0,0,0,1,1,1,1,1,1,1,1,1,9,10,11,1,12,4,13,1,1,1,14,1,2,0,0,0,0,0,0,15,1,16,1,17,17,18,1,19,0,0,0,0,0,0,0,0,18,1,1,0,0,20,0,3,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,3,0,22,22,22,0,0,0,0,0,21,0,0,23,23,11,1,1,1,1,1,1,1,1,1,1,1,1]}","map27":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"checkpoint\",\"_corners:2,2\",\"arrowleft\",\"cube\",\"_corners:2,0\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_corners:0,2\",\"cannon\",\"_colh_colb_colg_cold:0,2\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,0,3,1,1,1,1,1,1,1,1,1,1,1,0,4,0,0,0,1,1,1,1,1,5,0,5,0,5,1,0,0,0,0,6,1,1,1,1,1,0,5,0,5,0,7,1,1,1,1,1,1,1,1,1,1,5,0,5,0,5,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,9,0,0,2,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map28":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"_corners:2,2\",\"_colh_colb_colg_cold:2,0\",\"_colh_oneway_\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:1,2\",\"cannonl\",\"_corners:2,0\",\"cannon\",\"arrowright\",\"_colh_colb_colg_cold:2,2\",\"_corners:0,0\",\"_colh_colb_colg_cold:0,2\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,1,1,2,3,1,1,2,0,0,3,1,1,1,4,5,0,6,4,5,0,6,4,5,0,7,0,1,1,1,8,0,0,0,0,0,0,0,0,0,9,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,0,6,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,5,5,0,5,5,0,5,5,0,5,5,0,5,5,11,0,12,13,9,7,13,9,7,13,9,7,13,9,7,13,9,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map29":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:0,2\",\"_colb_colh_colg_cold_damage:2,2\",\"_pgemj_colh_colb_colg_cold\",\"_corners:0,2\",\"_colb_colh_colg_cold_damage:3,1\",\"_colb_colh_colg_cold_damage:2,3\",\"_colb_colh_colg_cold_damage:3,3\",\"checkpoint\",\"_colb_colh_colg_cold_damage:0,0\",\"cannonball\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"_pgemb_colh_colb_colg_cold\",\"_colb_colh_colg_cold_damage:1,1\",\"_colb_colh_colg_cold_damage:3,0\",\"_colg_onewayleft_\",\"_colb_colh_colg_cold_damage:2,0\",\"_colh_colb_colg_cold:2,2\",\"cannon\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,1\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,0\"],\"data\":[1,1,1,2,3,1,1,1,4,4,4,4,1,1,1,1,1,5,0,6,7,8,8,4,4,4,4,4,4,0,9,0,1,0,0,10,7,7,4,4,4,4,4,4,4,4,0,0,1,0,0,11,6,7,4,4,4,4,4,4,4,4,0,12,1,0,0,0,6,7,4,4,4,4,4,4,4,4,0,1,13,0,0,2,7,7,4,14,15,4,4,4,4,4,0,1,9,0,0,6,7,16,16,4,14,4,4,4,4,0,0,1,0,17,0,10,18,0,0,0,4,14,14,4,0,0,0,1,19,17,0,0,0,0,0,0,0,0,0,20,0,0,0,1,13,0,0,21,22,0,0,0,0,0,0,0,0,23,23,24]}","map3":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:2,2\",\"_corners:0,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:0,2\",\"_corners:1,2\",\"_colb_oneway_\",\"arrowup\",\"_corners:1,0\",\"cube\"],\"data\":[1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,2,1,1,0,0,1,1,1,1,1,3,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,4,5,0,0,1,1,1,1,1,0,0,6,0,0,0,0,0,0,0,0,4,1,7,1,1,8,8,1,0,0,0,0,0,0,0,0,2,1,9,1,1,0,0,1,0,0,0,0,0,0,0,0,0,1,10,1,5,0,0,1,1,8,8,0,0,11,0,0,0,4,1,5,3,0,0,4]}","map30":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"arrowright\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:0,0\",\"_colb_oneway_\",\"_corners:0,2\",\"cube\",\"_corners:2,2\",\"_colb_colh_colg_cold_damage:2,2\",\"_colb_colh_colg_cold_damage:0,2\",\"_colb_colh_colg_cold_damage:2,3\",\"_colb_colh_colg_cold_damage:3,3\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,1,3,0,0,4,3,0,0,4,3,0,0,4,1,1,1,1,5,0,0,6,5,7,7,6,5,7,7,6,1,1,1,5,8,0,0,0,0,0,0,0,9,9,9,9,10,6,1,11,0,0,0,0,0,12,11,0,0,12,11,0,0,0,1,13,11,0,0,0,12,13,13,14,14,13,13,11,0,0,1,13,13,14,14,14,13,13,13,13,13,13,13,13,11,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map31":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_pgemr_ouverte\",\"_pgemb_ouverte\",\"_corners:2,2\",\"_colh_colb_colg_cold:1,0\",\"_corners:0,2\",\"mushroom\",\"_pgemr_colh_colb_colg_cold\",\"gemmer\",\"_colh_oneway_\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,2\",\"_pgemb_colh_colb_colg_cold\",\"gemmeb\",\"_corners:0,0\",\"pasteque\",\"strawberry\",\"_corners:2,0\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"checkpoint\",\"water\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,3,0,4,5,6,7,5,6,0,8,9,0,0,0,0,2,3,0,0,0,10,10,0,0,0,11,1,1,1,1,1,1,12,0,0,0,0,0,0,0,0,13,14,0,0,1,1,1,1,15,16,0,0,0,0,17,18,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,4,20,1,1,1,1,1,1,1,1,21,6,0,0,0,0,0,0,0,0,0,0,0,22,0,0,0,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map32":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"gemmer\",\"_pgemr_colh_colb_colg_cold\",\"cannon\",\"_pgemr_ouverte\",\"_colh_colb_colg_cold:2,1\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,2\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,1\",\"gemmeb\",\"_pgemb_colh_colb_colg_cold\",\"_corners:0,0\",\"_colh_colb_colg_cold:1,2\",\"_colh_colb_colg_cold:0,0\",\"_corners:2,0\",\"cube\",\"arrowright\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,0,0,0,0,0,0,0,4,3,0,0,2,0,5,1,6,5,5,5,5,5,5,7,1,1,8,9,9,10,1,11,12,0,0,0,0,0,0,1,1,1,1,0,0,0,0,8,12,0,0,0,0,0,0,1,1,1,1,13,0,0,0,1,6,0,0,0,0,11,0,1,1,1,1,1,1,1,1,0,0,0,14,0,0,0,0,15,1,1,1,1,1,1,1,0,0,16,1,0,17,17,0,0,0,0,0,0,0,0,0,0,16,7,1,13,17,17,0,0,0,18,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map33":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"arrowright\",\"checkpoint\",\"water\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:1,1\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:2,1\",\"_corners:2,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,2,0,0,0,0,0,0,0,3,0,0,4,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,5,6,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,5,1,7,1,8,7,1,8,7,1,8,1,1,8,0,0,0,1,1,9,1,1,10,11,1,9,1,1,1,11,0,0,0,1,6,1,11,6,1,12,6,1,11,1,0,0,0,0,13,1,1,1,1,1,1,1,1,1,1,1,0,0,0,13,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map34":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_cold_onewayright_\",\"cannon\",\"_colh_colb_colg_cold:2,2\",\"_corners:0,0\",\"pasteque\",\"_colh_oneway_\",\"water\",\"_colb_colh_colg_cold_damage:3,0\",\"_colh_colb_colg_cold:2,0\",\"_pgemb_ouverte\",\"flyingcannonl\",\"strawberry\",\"sprite\",\"_pgemb_colh_colb_colg_cold\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,1\",\"gemmeb\",\"_colb_colh_colg_cold_damage:3,3\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,3,1,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,4,6,6,6,6,6,6,6,7,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,8,1,1,9,1,1,1,1,1,1,1,1,1,1,1,10,11,1,1,12,13,12,14,0,14,14,14,14,14,14,14,15,14,15,1,4,15,16,1,1,1,1,1,1,1,1,1,17,11,15,1,1,18,11,14,14,14,14,14,14,14,14,14,14,14,15,1,1,19,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map35":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"gemmeb\",\"_pgemb_colh_colb_colg_cold\",\"_corners:2,2\",\"_corners:1,2\",\"_colh_colb_colg_cold:1,0\",\"mushroom\",\"_colh_colb_colg_cold:1,2\",\"_colh_oneway_\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,2\",\"arrowright\",\"_colh_colb_colg_cold:0,0\",\"checkpoint\",\"_cold_onewayright_\",\"_corners:1,0\",\"_corners:0,0\",\"_corners:2,0\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,0\",\"walker\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,4,5,1,6,1,6,7,6,1,2,0,5,1,1,0,0,4,8,7,0,1,0,0,0,1,0,9,10,1,1,0,11,12,13,0,0,1,0,9,0,7,0,1,0,14,1,0,15,1,0,9,0,7,0,1,0,0,0,1,0,0,16,0,0,1,17,1,18,0,19,1,17,9,17,1,20,21,16,0,0,1,1,1,1,1,1,1,1,1,1,22,0,1,16,0,19,1,1,1,1,2,10,10,10,10,10,10,10,1,1,1,1,1,1,1,22,0,0,0,0,0,4,23,11,1]}","map36":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:3,2\",\"_corners:2,2\",\"_corners:0,2\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,2\",\"_colb_colh_colg_cold_damage:3,1\",\"_colb_colh_colg_cold_damage:2,1\",\"_colb_colh_colg_cold_damage:0,1\",\"_colh_colb_colg_cold:2,1\",\"_corners:0,0\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_corners:2,0\",\"_colb_colh_colg_cold_damage:3,0\",\"_colb_colh_colg_cold_damage:0,3\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,0,0,3,1,1,4,0,0,0,0,1,1,2,0,5,1,6,0,0,1,1,0,0,0,0,0,1,1,2,0,0,7,1,0,0,1,1,8,0,9,1,1,1,1,1,10,0,7,1,0,0,1,1,0,0,0,1,1,0,0,0,0,0,7,1,0,0,1,1,0,0,0,1,1,6,11,0,0,0,7,1,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,12,13,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,14,1,1,1,1,15,15,15,1,1,16,16,16,16,16,16,1,1,1]}","map37":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"cannon\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,2\",\"arrowup\",\"mushroom\",\"_colh_colb_colg_cold:0,0\",\"cube\",\"_colh_colb_colg_cold:0,1\",\"_colb_colh_colg_cold_damage:0,3\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,2,1,1,1,1,1,1,1,3,0,0,0,0,0,0,0,4,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,6,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,7,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,8,8,0,0,0,0,0,0,0,0,0,0,0,1,1,0,8,8,0,0,0,0,0,0,9,10,1,1,1]}","map38":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"evil\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map39":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:0,0\",\"evil_course\",\"_corners:0,0\",\"_corners:0,2\",\"_colh_colb_colg_cold:2,0\",\"_colh_colb_colg_cold:0,2\",\"_corners:2,0\"],\"data\":[1,1,1,1,1,1,1,0,0,2,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,3,1,1,1,1,1,1,1,4,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,5,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,1,1,1,1,1,1,0,0,0,0,0,0,0,0,8,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map4":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:2,3\",\"checkpoint\",\"_corners:2,2\",\"_corners:1,2\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,2\",\"_corners:1,1\",\"_colh_colb_colg_cold:2,0\",\"_colb_colh_colg_cold_damage:0,3\",\"_colh_colb_colg_cold:0,0\",\"_corners:0,2\",\"_corners:0,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,3,0,4,1,1,1,1,1,1,5,1,6,1,7,0,0,0,0,0,1,1,1,1,1,1,0,1,1,8,1,0,0,0,0,0,1,1,1,1,1,9,10,11,1,1,9,7,0,0,0,0,1,1,12,0,0,0,0,0,0,0,0,1,0,0,0,0,11,9,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,10,10,10,1,1,1,1,1,1,1,1,1,1]}","map40":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_corners:0,2\",\"checkpoint\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_colh_oneway_\",\"_colh_colb_colg_cold:2,2\",\"_corners:0,0\",\"_colh_colb_colg_cold:2,1\",\"_colb_oneway_\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,0,3,0,4,5,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,3,0,0,3,0,3,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,6,0,0,0,0,0,0,0,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,8,9,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,8,9,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,10,11,11,0]}","map41":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"evil_course\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map5":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:2,3\",\"_colb_colh_colg_cold_damage:3,0\",\"_colh_colb_colg_cold:0,2\",\"_colh_colb_colg_cold:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"_corners:1,1\",\"checkpoint\",\"_colh_oneway_\",\"_colh_colb_colg_cold:2,1\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,3,3,3,3,1,1,3,3,3,1,1,3,3,4,1,5,0,0,0,0,6,7,0,0,0,6,7,0,0,1,8,1,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,7,4,1,5,0,0,0,0,0,0,0,0,0,0,0,9,0,1,8,1,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,7,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,11,0,0,0,0,0,0,0,0,0,0]}","map6":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:3,0\",\"_colh_colb_colg_cold:1,0\",\"_corners:0,2\",\"checkpoint\",\"_colh_oneway_\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,2,2,1,2,2,2,1,2,2,1,1,1,0,0,0,3,0,0,3,0,0,0,3,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}","map7":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_pgemb_colh_colb_colg_cold\",\"_colh_colb_colg_cold:0,2\",\"_colb_colh_colg_cold_damage:1,1\",\"gemmeb\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,4,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,5,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,7,1,1,1]}","map8":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"checkpoint\",\"arrowright\",\"_pgemb_colh_colb_colg_cold\",\"_colh_colb_colg_cold:2,2\",\"_colb_oneway_\",\"_colh_colb_colg_cold:0,1\",\"_colh_colb_colg_cold:2,1\",\"_colh_oneway_\",\"_colb_colh_colg_cold_damage:0,0\",\"_colb_colh_colg_cold_damage:2,0\",\"_corners:2,2\",\"_pgemr_ouverte\",\"gemmer\",\"sprite\",\"gemmeb\",\"_colh_colb_colg_cold:2,0\",\"_colb_colh_colg_cold_damage:1,1\",\"_colh_colb_colg_cold:0,0\",\"_colb_colh_colg_cold_damage:3,0\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,0,0,0,0,0,3,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,5,6,6,7,8,9,9,7,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,10,11,0,12,1,1,1,1,1,1,0,0,0,0,0,0,13,13,0,0,1,1,1,1,1,1,14,0,0,0,15,15,15,0,0,0,1,1,1,1,1,1,0,0,0,15,0,0,15,16,0,0,1,1,1,1,1,17,0,0,0,0,15,15,15,18,0,0,19,1,1,20,1]}","map9":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_colb_colh_colg_cold_damage:3,0\",\"checkpoint\",\"_pgemb_colh_colb_colg_cold\",\"_pgemj_ouverte\",\"gemmer\",\"_colh_colb_colg_cold:2,2\",\"_pgemr_colh_colb_colg_cold\",\"_colh_colb_colg_cold:1,2\",\"_corners:0,0\",\"_corners:2,0\",\"_colh_colb_colg_cold:0,2\",\"_pgemj_colh_colb_colg_cold\",\"_colh_colb_colg_cold:2,0\",\"_pgemb_ouverte\",\"_colh_colb_colg_cold:0,0\",\"gemmej\",\"_corners:2,2\",\"_corners:0,2\",\"gemmeb\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,0,3,0,0,0,0,0,0,0,0,0,0,0,4,0,5,0,0,0,0,0,0,0,0,0,0,0,6,0,4,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,1,1,7,8,9,10,0,11,9,8,12,1,1,7,13,12,1,1,14,15,16,1,1,1,14,0,16,1,1,1,4,1,1,1,17,0,18,1,1,1,19,0,20,1,1,1,8,16,1,1,10,0,11,1,1,1,10,0,11,1,1,1,10,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","map99990":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"_pgemb_ouverte\",\"checkpoint\",\"_colb_colh_colg_cold_damage:1,3\",\"_colb_colh_colg_cold_damage:3,1\",\"_colb_colh_colg_cold_damage:3,2\",\"_colb_colh_colg_cold_damage:3,0\",\"_colb_colh_colg_cold_damage:2,0\",\"_colb_colh_colg_cold_damage:1,2\",\"_colb_colh_colg_cold_damage:1,0\",\"_colh_oneway_\",\"gemmeb\",\"_colb_colh_colg_cold_damage:1,1\",\"_colb_colh_colg_cold_damage:0,1\",\"_colb_colh_colg_cold_damage:2,1\",\"_colb_colh_colg_cold_damage:0,0\",\"smartwalker\",\"sprite\",\"_colb_colh_colg_cold_damage:0,3\"],\"data\":[1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,0,3,0,0,0,0,4,0,5,6,0,0,0,5,7,1,0,0,0,0,0,0,4,0,5,8,0,9,0,10,0,1,0,0,0,0,0,0,10,0,4,0,0,4,0,11,0,1,0,0,0,0,0,0,12,0,4,0,0,4,0,0,0,1,0,0,0,0,0,0,13,0,10,0,14,7,15,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,18,0,0,0,0,0,0,0,0,14,19,19,19,19,19,19,19,19,19,19,19,19,19,15]}","map99991":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_cold_colg_\",\"checkpoint\",\"cube\"],\"data\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,2,0,0,0,0,0,0,1,1,0,3,3,3,3,3,3,0,3,3,3,3,3,3,1,1,0,3,3,3,3,3,3,0,3,3,3,3,3,3,1,1,0,3,3,0,0,3,3,0,3,3,0,0,3,3,1,1,0,3,3,0,3,3,3,0,3,3,0,3,3,3,1,0,0,3,3,0,0,0,0,0,3,3,0,0,0,0,1,0,0,3,3,3,3,3,3,0,3,3,3,3,3,3,1,0,0,3,3,3,3,3,3,0,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}","start":"{\"width\":16,\"height\":10,\"block_width\":32,\"block_height\":32,\"sprites\":[0,\"_colh_colb_colg_cold:0,2\",\"_colh_colb_cold_colg_\",\"_colh_colb_colg_cold:2,2\",\"_corners:1,2\",\"_corners:0,2\",\"_corners:2,2\",\"_colh_colb_colg_cold:0,0\",\"_colh_colb_colg_cold:2,0\",\"arrowright\",\"_corners:0,0\"],\"data\":[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,4,2,2,5,0,0,0,0,0,0,0,6,2,2,2,2,0,2,2,0,0,0,0,0,0,0,0,0,2,2,2,2,0,7,8,0,0,0,0,0,0,0,0,0,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,7,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,9,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8]}"},"sounds":[],"music":[{"file":"bonjovirunaway.mp3","version":1,"size":6937277,"properties":{}}]};
var graphics = "M1";

</script><script type="text/javascript">var orientation = 'landscape' ;
var aspect = '>16x9' ;
var ms_libs = [] ;
window.skip_service_worker = true;
window.exported_project = true;
</script><script src="runner_v1_i.js"></script><script src="microengine.js"></script></body><script id="code" type="text/x-microscript">

init_music = function()
    soundtrack = audio.playMusic("bonjovirunaway", .100,100)
  if game_state == "pause" or game_state == "vertical" then
    soundtrack.setVolume(.100*music)
  else
    soundtrack.setVolume(.100*music)
  end
  
end



sonStart = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4  ")
  //à créer
  end
end

sonSaut = function()
  if sound == 1 then
    local notes = ["A","B","C","D","E","F","G"]
    audio.beep("volume 2 duration 30 saw "+ notes[floor(perso.legs%notes.length)]+"3")
    //print(notes[floor(perso.legs%7)]+ceil(1+perso.legs/42))
  end
end

sonLand = function()
    if sound == 1 then
    audio.beep("volume "+abs(perso.vy)+" duration 10 noise LA4")
  //à créer
  end
end
sonMort = function()
  if sound == 1 then
    audio.beep("volume 100 duration 5 span 50 sine C3 to C2 to C1 to C0")
  end
end

sonChangingMap = function()
  //disabled
  if sound == 1 then
    audio.beep("volume 25 duration 3 span 50 sine C4 to C6")
  end
end

sonCheckpoint = function()
    if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4  ")
  //à créer
  end
end

sonCannonballDestroyed = function()
    if sound == 1 then
    audio.beep("volume 5 duration 5 square LA3 to LA1 ")
  end
end

sonCannonballCollisionLegs = function()
    if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4  ")
   //à créer
  end
end

sonGemme = function()
    if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
  //à créer
  end
end

sonWater = function()
    if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonMushroom = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonStrawberry = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonPasteque = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonCube = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonGamepadPause = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end

sonInitPowerup = function()
  if sound == 1 then
    audio.beep("volume 10 duration 10 noise LA4")
    //à créer
  end
end


     


newGameKey = function()
  if touchscreen("NEWGAME") and game_state == "start" then
    return 1
  end
end

continueKey = function()
  if touchscreen("CONTINUE") and game_state == "start" then
    return 1
  end
end

upKey = function()
  if not perso.mort then
    if keyboard.UP or gamepad.A or touchscreen("UP") and not system.inputs.gamepad then
      return 1
    end
  end
end

rightKey = function()
  if not perso.mort then
    if keyboard.RIGHT or gamepad.RIGHT or touchscreen("RIGHT") and not system.inputs.gamepad then
      return 1
    elsif not system.inputs.keyboard and n then
      
    end
  end
end

leftKey = function()
  if not perso.mort then
    if keyboard.LEFT or gamepad.LEFT or touchscreen("LEFT") and not system.inputs.gamepad then
      return 1
    end
  end
end

pauseKey = function() 
  if keyboard.press.P or gamepad.press.VIEW or gamepad.press.MENU or touchscreen("PAUSE") and not system.inputs.gamepad then
    return 1
  end
end

respawnKey = function() 
  if not perso.mort then
    if keyboard.press.R or gamepad.press.A and pause_gamepad_select == 3 and game_state == "pause" or touchscreen("RESPAWN") then
      return 1
    end
  end
end

playKey = function()
  if (keyboard.press.P or gamepad.press.VIEW or gamepad.press.MENU or gamepad.press.A and pause_gamepad_select == 0 or touchscreen("PLAY") )then
    return 1
  end
end

musicKey = function()
  if keyboard.press.M or gamepad.press.A and pause_gamepad_select == 1 and game_state == "pause" or touchscreen("MUSIC") and game_state == "pause" then
    return 1
  end
end
soundKey = function()
  if keyboard.press.T or gamepad.press.A and pause_gamepad_select == 2 and game_state == "pause" or touchscreen("SOUND") and game_state == "pause" then
    return 1
  end
end




touchscreen = function(key)
  if key == "NEWGAME" then
    for t in touch.touches
      if collision(t.x,t.y,0,-45,60,15) then
        local touched = 1
      end
    end 
    if touched == 1 then
      return 1
    end
    
  elsif key == "CONTINUE" then
    for t in touch.touches
      if collision(t.x,t.y,0,5,60,15) then
        local touched = 1
      end
    end 
    if touched == 1 then
      return 1
    end
    
  elsif key == "UP" then
    for t in touch.touches
      if collision(t.x,t.y,screen.width/2-20-40,-screen.height/2+30,20,20) and t.id != "mouse" then
        local touched = 1
      end
    end 
    if touched == 1 then
      return 1
    end
  
  elsif key == "RIGHT" then
    for t in touch.touches
      if collision(t.x,t.y,-screen.width/2+40+50,-screen.height/2+30,20,20) and t.id != "mouse" then
        local touched = 1
      end
    end 
    if touched == 1 then
      return 1
    end
    
  elsif key == "LEFT" then
    for t in touch.touches
      if collision(t.x,t.y,-screen.width/2+40+10,-screen.height/2+30,20,20) and t.id != "mouse" then
        local touched = 1
      end
    end
    if touched == 1 then
      return 1
    end
  
  elsif key == "PAUSE" then
    for t in touch.touches
      if collision(t.x,t.y,-screen.width/2+50,screen.height/2-30,20,20) then
        local touched = 1
      end
    end 
    if touched == 1 then
      return 1
    end
    
  elsif key == "RESPAWN" then
    if game_state == "pause" then
      for t in touch.touches
        if collision(t.x,t.y,75,0,25,25) then
           local touched = 1
        end
      end
    end 
    if touched == 1 then
      return 1
    end

    
  elsif key == "PLAY" then
    if game_state == "pause" then
      for t in touch.touches
        if collision(t.x,t.y,-75,0,25,25) then
          local touched = 1
        end
      end 
    end
    if touched == 1 then
      return 1
    end
    
  elsif key == "MUSIC" then
      for t in touch.touches
        if collision(t.x,t.y,-25,0,25,25) then
          local touched = 1
        end
      end 
      if touched == 1 then
        return 1
      end
    
  elsif key == "SOUND" then
      for t in touch.touches
        if collision(t.x,t.y,25,0,25,25) then
          local touched = 1
        end
      end 
    if touched == 1 then
      return 1
    end
    
    
    
    
  end
end

dessineTouchkeys = function()
  screen.setTranslation(0,0)
  if not system.inputs.keyboard and not system.inputs.gamepad and game_state == "game" then
    if rightKey() then
      screen.drawSprite("touchright.1",-screen.width/2+90,-screen.height/2+30,30)
    else
      screen.drawSprite("touchright.0",-screen.width/2+90,-screen.height/2+30,30)
    end
    if leftKey() then
      screen.drawSprite("touchleft.1",-screen.width/2+50,-screen.height/2+30,30)
    else
      screen.drawSprite("touchleft.0",-screen.width/2+50,-screen.height/2+30,30)
    end
    if upKey() then
      screen.drawSprite("touchup.1",screen.width/2-20-40,-screen.height/2+30,30)
    else
      screen.drawSprite("touchup.0",screen.width/2-20-40,-screen.height/2+30,30)
    end
    if pauseKey() then
      screen.drawSprite("touchpause.1",-screen.width/2+50,screen.height/2-30,30)
    else
      screen.drawSprite("touchpause.0",-screen.width/2+50,screen.height/2-30,30)
    end
  elsif not system.inputs.gamepad then
    if pauseKey() then
      screen.drawSprite("touchpause.1",-screen.width/2+50,screen.height/2-30,30)
    else
      screen.drawSprite("touchpause.0",-screen.width/2+50,screen.height/2-30,30)
    end
  end
    screen.setTranslation(shaking,shaking)
end







draw = function()
  
  if game_state == "start" then
    draw_start()
  end
  
  if game_state == "game" or game_state == "pause" then
    screen.clear()
    //background
    screen.fillRect(0,0,320,200,"rgb(76,227,0)")
    parallax.draw()
  
    screen.setAlpha(1)
    if scrolling == 0 then
      screen.drawMap(map,0,0,320,200)
    else
      screen.drawMap(map,-scrolling*8,0,320,200)
    end
    if scrolling > 0 then
      screen.drawMap("map"+(mapnum+1),320-scrolling*8,0,320,200)
    elsif
      scrolling < 0 then
      screen.drawMap("map"+(mapnum-1),-320-scrolling*8,0,320,200)
    end
  
    //dessineTexte("texte",x,y,taille,map)
    
    dessineTexte("You can manualy respawn",-10,30,10,11)
    dessineTexte("with the pause menu",-10,20,10,11)
  
    dessineTexte("Congratulations!",0,70,25,41)
    dessineTexte("You beat" ,0,40,20,41)
    dessineTexte("Lemmy Long Legs 2",0,20,20,41)
    dessineTexte("in "+(timer-timer%3600)/3600+" mins "+floor((timer%3600)/60)+" secs",0,0,20,41)
    dessineTexte("and collected "+perso.cubes+" cubes.",0,-20,20,41)
    dessineTexte("It only took you "+perso.deaths+" deaths!",0,-40,20,41)

      
  
    dessineCheckpoints()
    
    dessineGemmeBleue()
    
    dessineGemmeRouge()
    
    dessineGemmeJaune()
    
  
    
    dessineWater()
    
    dessineStrawberry()
    
    dessinePasteque()
    
    dessineMushroom()  
    
    dessineWalkers()
    
    dessineSmartWalkers()
    
    dessineEvils()
    
    dessineEvilghosts()
    
    dessinePersonnage()
    
    dessineCannonballs()
    
    dessineCannons()
    
    dessineCannonls()
    
    dessineFlyingCannonballs()
    
    dessineFlyingCannons()
    
    dessineFlyingCannonsl()
    
    dessineCannonballparticules()
    
    dessineCube()
    
    dessinePowerupTimer()
    

    
    screen.fillRect(-360,0,400,220,"rgb(0,0,0)")
    screen.fillRect(360,0,400,220,"rgb(0,0,0)")
    
    
    dessineTouchkeys()
    
  
    if perso.mort then
      screen.fillRect(0,0,screen.width,screen.height,"rgba(0,0,0,.2)")
    end
    screen.setDrawRotation(0)
  
    screen.setBlending("normal")
    screen.setTranslation(shaking,shaking)
    end
  
  
  
  dessinePause()
  
    if game_state == "vertical" then
      screen.fillRect(0,0,screen.width,screen.height,"rgb(76,227,0)")
      screen.drawSprite("portraitformat",-50,0,100)
      screen.drawSprite("landscapeformat",50,0,100)
    end
    
  drawFPS(145,90,25)

end











update_ennemies = function()
  
    for walker in walkers
    gravity(walker)
    mouvement(walker)
    if murGauche(walker.x,walker.y) or murDroite(walker.x,walker.y) then
      walker.vx *= -1
    end
    if walker.y < -110 then
      walkers.remove(walkers.indexOf(walker))
    end
  end
  
  for smartwalker in smartwalkers
    gravity(smartwalker)
    mouvement(smartwalker)
    if murGauche(smartwalker.x,smartwalker.y) or murDroite(smartwalker.x,smartwalker.y) or not sol(smartwalker.x-12,smartwalker.y-10) and smartwalker.vy > -0.5 or not sol(smartwalker.x+13,smartwalker.y-10) and smartwalker.vy > -0.5 then
      smartwalker.vx *= -1
    end
    if smartwalker.y < -110 then
      smartwalkers.remove(smartwalkers.indexOf(smartwalker))
    end
  end
  
  for evil in evils
    if not perso.mort then 
      gravity(evil)
      mouvement(evil)
      if upKey() and sol(evil.x,evil.y-10) and not leftKey() and not rightKey() then
        if not plafond(evil.x,evil.y+evil.legs) then
          evil.legs += 1
        elsif evil.legs == 0 then
          evil.legs = 1
        end 
      elsif not plafond(evil.x,evil.y+evil.legs) or not upKey() or rightKey() or leftKey() then
        evil.y += evil.legs
        evil.legs = 0
      end
      if leftKey() and not rightKey() and not perso.mort then
        evil.vx = 2
        evil.sens = -1
      elsif rightKey() and not leftKey() and not perso.mort then
        evil.vx = -2
        evil.sens = 1
      else
        evil.vx = 0
      end
      if evil.y < -110 then
      evils.remove(evils.indexOf(evil))
      end
    else
      evilghosts.push(object x = evil.x y = evil.y end)
      evils.remove(evils.indexOf(evil))
    end
  end
  
  for cannon in cannons
    gravity(cannon)
    mouvement(cannon)
    //cannon.y-=3
    if cannon.shoot >= 80 then
      cannon.animationFrame += 1
    end
    if cannon.animationFrame >= 40 then
      cannonballs.push(object x = cannon.x-10.1 y = cannon.y vx = -2 end)
      cannon.shoot = 0
      cannon.animationFrame = 0
    end
     cannon.shoot +=1 
  end
  
  for cannonl in cannonls
    gravity(cannonl)
    mouvement(cannonl)
    //cannonl.y-=3
    if cannonl.shoot >= 80 then
      cannonl.animationFrame += 1
    end
    if cannonl.animationFrame >= 40 then
      cannonballs.push(object x = cannonl.x+10.1 y = cannonl.y vx = 2 end)
      cannonl.shoot = 0
      cannonl.animationFrame = 0
    end
     cannonl.shoot +=1 
  end
  
  for cannonball in cannonballs
    gravity(cannonball)
    mouvement(cannonball)
    cannonball.rotation -= 5*cannonball.vx
    if murGauche(cannonball.x,cannonball.y) and cannonball.vx < 0 or murDroite(cannonball.x,cannonball.y) and cannonball.vx > 0 or cannonball.y < -110 then
      for i = 1 to 5
        if not cannonball.x == 0 and not cannonball.y == 0 and cannonball.y >- 110  then
          // dans certains cas précis des particules apparaissaient aussi à 0.0 et ce test suffit
          cannonballparticules.push(object x = cannonball.x y = cannonball.y vx = ceil((random.next()-0.5)*5) vy = ceil((random.next()-0.5)*2)+cannonball.vy/3 rotation = random.next()*360 end)
          sonCannonballDestroyed() 
        end
      end
      cannonballs.remove(cannonballs.indexOf(cannonball))
    end
  end
  
    for flyingcannon in flyingcannons
    gravity(flyingcannon)
    mouvement(flyingcannon)
    //flyingcannon.y-=3
    if flyingcannon.shoot >= 80 then
      flyingcannon.animationFrame += 1
    end
    if flyingcannon.animationFrame >= 20 then
      flyingcannonballs.push(object x = flyingcannon.x-10 y = flyingcannon.y-4 vx = -1.5 end)
      flyingcannon.shoot = 0
      flyingcannon.animationFrame = 0
    end
     flyingcannon.shoot +=1 
  end
  
    for flyingcannonl in flyingcannonsl
    gravity(flyingcannonl)
    mouvement(flyingcannonl)
    //flyingcannon.y-=3
    if flyingcannonl.shoot >= 80 then
      flyingcannonl.animationFrame += 1
    end
    if flyingcannonl.animationFrame >= 20 then
      flyingcannonballs.push(object x = flyingcannonl.x+10 y = flyingcannonl.y-4 vx = 1.5 end)
      flyingcannonl.shoot = 0
      flyingcannonl.animationFrame = 0
    end
     flyingcannonl.shoot +=1 
  end
  

  for flyingcannonball in flyingcannonballs
    //gravity(flyingcannonball)
    flyingcannonball.x += flyingcannonball.vx
    //  flyingcannonball.rotation -= 5*flyingcannonball.vx
    if flyingcannonball.x < -170 or flyingcannonball.x > 170 then
      flyingcannonballs.remove(flyingcannonballs.indexOf(flyingcannonball))
    end
  end
  
  
end


dessineWalkers = function()
  for walker in walkers
    if walker.vx > 0 then
      screen.setDrawScale(1,1)
    else
      screen.setDrawScale(-1,1)
    end
    screen.drawSprite("walker",walker.x,walker.y,34)
  end
 screen.setDrawScale(1,1)
end

dessineSmartWalkers = function()
  for smartwalker in smartwalkers
    if smartwalker.vx > 0 then
      screen.setDrawScale(1,1)
    else
      screen.setDrawScale(-1,1)
    end
    screen.drawSprite("smartwalker",smartwalker.x,smartwalker.y,34)
  end
 screen.setDrawScale(1,1)
end

dessineCannons = function()
 for cannon in cannons
  if cannon.animationFrame > 0 then
    screen.setDrawRotation(cannon.animationFrame*10)
    screen.drawSprite("cannonball.1",cannon.x-10,cannon.y-4,cannon.animationFrame/2)
    screen.setDrawRotation(0)
    screen.drawSprite("cannon.1",cannon.x,cannon.y-3,20)
  else
    screen.drawSprite("cannon",cannon.x,cannon.y-3,20)
  end
 end
end

dessineCannonls = function()
 for cannonl in cannonls
  if cannonl.animationFrame > 0 then
    screen.setDrawRotation(-cannonl.animationFrame*10)
    screen.drawSprite("cannonball",cannonl.x+10,cannonl.y-4,cannonl.animationFrame/2)
    screen.setDrawRotation(0)
    screen.drawSprite("cannonl.1",cannonl.x,cannonl.y-3,20)
  else
    screen.drawSprite("cannonl",cannonl.x,cannonl.y-3,20)
  end
 end
end

dessineCannonballs = function ()
  for cannonball in cannonballs
    screen.setDrawRotation(cannonball.rotation)
    screen.drawSprite("cannonball",cannonball.x,cannonball.y-5,20)
  end
  screen.setDrawRotation(0)
end

dessineFlyingCannons = function()
 for flyingcannon in flyingcannons
  if flyingcannon.animationFrame > 0 then
    screen.setDrawRotation(flyingcannon.animationFrame*10)
    screen.drawSprite("flyingcannonball.1",flyingcannon.x-10,flyingcannon.y-4,flyingcannon.animationFrame)
    screen.setDrawRotation(0)
    screen.drawSprite("flyingcannon.1",flyingcannon.x,flyingcannon.y-3,20)
  else
    screen.drawSprite("flyingcannon",flyingcannon.x,flyingcannon.y-3,20)
  end
 end
end

dessineFlyingCannonsl = function()
 for flyingcannonl in flyingcannonsl
  if flyingcannonl.animationFrame > 0 then
    screen.setDrawRotation(flyingcannonl.animationFrame*10)
    screen.drawSprite("flyingcannonball.1",flyingcannonl.x+10,flyingcannonl.y-4,flyingcannonl.animationFrame)
    screen.setDrawRotation(0)
    screen.drawSprite("flyingcannonl.1",flyingcannonl.x,flyingcannonl.y-3,20)
  else
    screen.drawSprite("flyingcannonl",flyingcannonl.x,flyingcannonl.y-3,20)
  end
 end
end

dessineFlyingCannonballs = function ()
  for flyingcannonball in flyingcannonballs
  //  screen.setDrawRotation(cannonball.rotation)
    screen.drawSprite("flyingcannonball",flyingcannonball.x,flyingcannonball.y,20)
  end
  screen.setDrawRotation(0)
end

dessineEvils = function()
  for evil in evils
    screen.setDrawScale(-1*perso.sens,1)
    if perso.mort then
        screen.drawSprite("evilghost",evil.x,evil.y+evil.legs+perso.mort,34)
    elsif evil.legs > 0 then
      screen.drawSprite("evil_saut",evil.x,evil.y+evil.legs,34)
      screen.drawSprite("evil_pieds",evil.x,evil.y,34)
      screen.setDrawScale(1,1)
      //dessin des jambes
      screen.drawLine( evil.x-2, evil.y-10, evil.x-2, evil.y + evil.legs-5,"rgb(15,15,15)")
      screen.drawLine( evil.x+2,evil.y-10, evil.x+2,evil.y + evil.legs-5,"rgb(15,15,15)")
      screen.setDrawScale(-1*perso.sens,1)
    elsif evil.vx == 0 then
      screen.drawSprite("evil",evil.x,evil.y,34)
    else
      screen.drawSprite("evil_course",evil.x,evil.y,34)
    end
    screen.setDrawScale(1,1)
  end
end

dessineEvilghosts = function()
  for evilghost in evilghosts
    screen.drawSprite("evilghost",evilghost.x,evilghost.y,34)
  end
end











update_game = function()
  
  if gameover == 0 then
    timer += 1
  end
  
  particles()
  parallax.x = mapnum*40 + scrolling
  
  if not perso.mort and not scrolling then
    gravity(perso)
    mouvement(perso)
    collisionDamage(perso)

  elsif scrolling < 0 then
    perso.x = -150+(-scrolling*7.7)
  elsif scrolling > 0 then
    perso.x = 150-(scrolling*7.7)
  end
  
  if not perso.mort  then
    if respawnKey() then
      perso.mort = 1
      sonMort()
    end
    
    for walker in walkers
      if collisionPerso(walker) then
        perso.mort = 1
        sonMort()
      end
      if collision(perso.x,0,walker.x,0) and perso.y <= walker.y+15 and walker.y < perso.y+perso.legs then
        perso.y += perso.legs
        perso.legs = 0
        sonCannonballCollisionLegs()
     end
    end
    
    for smartwalker in smartwalkers
      if collisionPerso(smartwalker) then
        perso.mort = 1
        sonMort()
      end
      if collision(perso.x,0,smartwalker.x,0) and perso.y <= smartwalker.y+15 and smartwalker.y < perso.y+perso.legs then
        perso.y += perso.legs
        perso.legs = 0
        sonCannonballCollisionLegs()
     end
    end
    for evil in evils
      if collisionPerso(evil) then
        perso.mort = 1
        sonMort()
      end
    end
    for cannonball in cannonballs
      if collisionPerso(cannonball) then
        perso.mort = 1
        sonMort()
      end
      if collision(perso.x,0,cannonball.x,0) and perso.y <= cannonball.y+15 and cannonball.y < perso.y+perso.legs then
        perso.y += perso.legs
        perso.legs = 0
        sonCannonballCollisionLegs()
     end
    end
    for flyingcannonball in flyingcannonballs
      if collisionPerso(flyingcannonball) then
        perso.mort = 1
        sonMort()
      end
      //if collision(perso.x,0,flyingcannonball.x,0) and perso.y <= flyingcannonball.y+15 and flyingcannonball.y < perso.y+perso.legs then
      //  perso.y += perso.legs
      //  perso.legs = 0
      //  sonCannonballCollisionLegs()
     //end
    end
    if perso.y < -110 then
      perso.mort = 1
      sonMort()
    end
  else
    perso.mort += 1
    if perso.mort>=90 then
      start()
      perso.deaths += 1
      print("restart")
    end
  end

    if upKey() and sol(perso.x,perso.y-10) and not leftKey() and not rightKey() and not perso.mort and scrolling == 0 then
     for i = 1 to (perso.speedY)
      if not plafond(perso.x,perso.y+perso.legs) then
       perso.legs += min(1,abs(perso.speedY))
        sonSaut()
      elsif perso.legs == 0 then
       perso.legs = 1
       perso.y -= 1
     //sert à détecter si le joueur monte ou pas, meme en dessous d'un bloc
      end 
     end
    elsif not plafond(perso.x,perso.y+perso.legs) or not upKey() or rightKey() or leftKey() then
      perso.y += perso.legs
      perso.legs = 0
    end  

  if leftKey() and not rightKey() and not perso.mort then
      perso.vx = max(-1,-abs(perso.speedX))
      perso.sens = -1
      if perso.leftWalkParticle <= 0 and sol(perso.x,perso.y-10) and not scrolling then
        walkParticle(perso.x,perso.y)
        perso.leftWalkParticle = 18
      else
        perso.leftWalkParticle -= 1
      end
  elsif rightKey() and not leftKey() and not perso.mort then
      perso.vx = min(1,abs(perso.speedX))
      perso.sens = 1
      if perso.rightWalkParticle <= 0 and sol(perso.x,perso.y-10) and not scrolling then
        walkParticle(perso.x,perso.y)
        perso.rightWalkParticle = 18
      else
        perso.rightWalkParticle -= 1
      end
  else
    perso.vx = 0
    perso.leftWalkParticle = 0
    perso.rightWalkParticle = 0
  end
  if sol(perso.x,perso.y-10) and perso.vy<0 and not scrolling and not perso.mort then
    landParticle(perso.x,perso.y)
    sonLand()
  end
  
    if musicKey() then
      if touchmusic_ready == 1 then
        if music != 0 then
          music = 0
          init_music()
        else
          music = 1
          init_music()
        end
        touchmusic_ready = 0
      end
    else 
      touchmusic_ready = 1
    end
    
    if soundKey() then
      if touchsound_ready == 1 then
        if sound != 0 then
          sound = 0
        else
          sound = 1
        end
        touchsound_ready = 0
      end
    else 
      touchsound_ready = 1
    end
  
    if pauseKey() and pause_ready == 1 then
    pause_ready = 0
    pause_gamepad_select = 0
    game_state = "pause"
    init_music()
  end
  if not pauseKey() then
    pause_ready = 1
  else
    pause_ready = 0 
  end
  
  changeMap()
  
  
end

draw_game = function()
  
  screen.clear()
  screen.fillRect(0,0,320,200,"rgb(76,227,0)")
  screen.setAlpha(1)
  if scrolling == 0 then
    screen.drawMap(map,0,0,320,200)
  else
    screen.drawMap(map,-scrolling*8,0,320,200)
  end
  if scrolling > 0 then
    screen.drawMap("map"+(mapnum+1),320-scrolling*8,0,320,200)
  elsif
    scrolling < 0 then
    screen.drawMap("map"+(mapnum-1),-320-scrolling*8,0,320,200)
  end

  //dessineTexte("texte",x,y,taille,map)
  
  dessineTexte("You can manualy respawn",-10,30,10,11)
  dessineTexte("with the pause menu",-10,20,10,11)

  dessineTexte("Congratulation!",0,50,30,30)
  dessineTexte("You beat" ,0,20,20,30)
  dessineTexte("Lemmy Long Legs 2 v1.0.1",0,0,20,30)
  dessineTexte("in "+(timer-timer%3600)/3600+" mins "+floor((timer%3600)/60)+" secs",0,-20,20,30)
  dessineTexte("and collected "+perso.cubes+" cubes.",0,-40,20,30)
    

  dessineCheckpoints()
  
  dessineGemmeBleue()
  
  dessineGemmeRouge()
  
  dessineGemmeJaune()
  
  dessineWater()
  
  dessineStrawberry()
  
  dessinePasteque()
  
  dessineMushroom()  
  
  dessineWalkers()
  
  dessineSmartWalkers()
  
  dessineEvils()
  
  dessineEvilghosts()
  
  dessinePersonnage()
  
  dessineCannonballs()
  
  dessineCannons()
  
  dessineCannonls()
  
  dessineFlyingCannonballs()
  
  dessineFlyingCannons()
  
  dessineFlyingCannonsl()
  
  dessineCannonballparticules()
  
  dessineCube()
  
  dessinePowerupTimer()

  screen.fillRect(-360,0,400,200,"rgb(0,0,0)")
  screen.fillRect(360,0,400,200,"rgb(0,0,0)")
  
  
  dessineTouchkeys()
  

  if perso.mort then
    screen.fillRect(0,0,screen.width,screen.height,"rgba(0,0,0,.2)")
  end
  screen.setDrawRotation(0)

  screen.setBlending("normal")
  screen.setTranslation(shaking,shaking)
end

dessinePersonnage = function()
  screen.setBlending("normal")
  if scrolling == 0 then
   screen.setDrawScale(perso.sens,1)
  elsif scrolling > 0 then
   screen.setDrawScale(1,1)
  else
   screen.setDrawScale(-1,1)
  end
  for walkParticle in walkParticles
    screen.fillRect(walkParticle.x,walkParticle.y,walkParticle.size,walkParticle.size,"rgb(0,142,142)")
  end
  if perso.mort then
    screen.drawSprite("heroghost",perso.x,perso.y+perso.mort,34)
  else
    if perso.legs > 0 then
    shaking = (0.5-random.next())*perso.legs/80
    screen.drawSprite("perso_saut",perso.x+shaking,perso.y+perso.legs,34)
    screen.drawSprite("perso_pieds",perso.x,perso.y,34)
    screen.setDrawScale(1,1)
    //dessin des jambes
    screen.drawLine( perso.x-2, perso.y-10, perso.x-2+shaking, perso.y + perso.legs-5,"rgb(120,19,170)")
    screen.drawLine( perso.x+2,perso.y-10, perso.x+2+shaking,perso.y + perso.legs-5,"rgb(120,19,170)")
    screen.setDrawScale(perso.sens,1)
    
  elsif perso.vx == 0 and scrolling == 0 then
    shaking = 0
    screen.drawSprite("perso",perso.x,perso.y,34)
  else
    shaking = 0
    screen.drawSprite("perso_course",perso.x,perso.y,34)
    courseParticle()
  end
    if perso.y + perso.legs >= 100 then
      screen.setAlpha(0.1*(perso.y+perso.legs-100))
      screen.drawSprite("persoarrow",perso.x,90,28)
      screen.setAlpha(1)
    end  
  end
  screen.setDrawScale(1,1)
end

dessineTexte = function(texte="empty",x,y,taille=15,piece=0,font="GrapeSoda")
    if mapnum == piece or mapnum == piece-1 and scrolling > 0 or mapnum == piece+1 and scrolling < 0 then
    screen.setFont(font)
    if mapnum == piece then
       x += scrolling*-8
    elsif mapnum == piece-1 then
       x += 320+scrolling*-8
    elsif mapnum == piece+1 then
       x += -320+scrolling*-8
    end
    screen.drawText(texte,x,y,taille,"rgba(0,0,0,.8)")
    end
            //  screen.drawText("Coming soon!",scrolling*-8,70,30,"rgb(0,0,0)")
     // screen.drawText("Thanks for playing",scrolling*-8,30,30) 
end  

drawFPS = function(x=0,y=0,size=100)
  if system.time() > drawfps_sec then
   drawfps_fps = drawfps_frame
   //print(drawfps_fps-1)
   drawfps_frame = 0
   drawfps_sec = system.time() + 1000
  end
  drawfps_frame += 1
    if debug == 1 then
      screen.drawText(drawfps_fps-1,x,y,size,"rgb(255,255,255)")
    end
  if drawfps_fps < 15 and drawfps_fps != 0 then
      //screen.fillRect(0,0,screen.width,screen.height,"rgba(105,105,105,.6)")

    screen.setDrawRotation(drawfps_loadingRotation)
    screen.drawSprite("loading",130,-70,50)
    if drawfps_loadingFrame == 5 then
      drawfps_loadingRotation -= 45
      drawfps_loadingFrame = 0
    else
      drawfps_loadingFrame += 1
    end
  end
  screen.setDrawRotation(0)
end

update_items = function()
  
  for checkpoint in checkpoints
    if collisionPerso(checkpoint) and not ( collision(checkpoint.x,checkpoint.y,perso.spawnX,perso.spawnY) and mapnum == perso.spawnMap ) then
      checkpoint.touched = 1
      initSpawn(perso,checkpoint.x,checkpoint.y)
      sonCheckpoint()
    end
    if checkpoint.touched > 0 and checkpoint.animationFrame < 66 then
      checkpoint.animation = 1
      checkpoint.animationFrame += 1
    else
      checkpoint.animation = 0
      if not collision(checkpoint.x,checkpoint.y,perso.spawnX,perso.spawnY) then
        checkpoint.animationFrame = 0
        checkpoint.touched = 0
      end
    end
  end
  
  for gemmeb in gemmebs
    if collisionPerso(gemmeb) and not gemmeb.touched then
      gemmeb.touched = 1
    local case_test = 0
    local colonne_test = 0
    for i=1 to 16
      for j=1 to 10
        if map.get(colonne_test,case_test).indexOf("pgemb_ouverte") > 0 then
            map.set(colonne_test,case_test,"_pgemb_colh_colb_colg_cold")
         elsif map.get(colonne_test,case_test).indexOf("pgemb_colh_colb_colg_cold") > 0 then
            map.set(colonne_test,case_test,"_pgemb_ouverte")
        end 
      case_test +=1
      end
      colonne_test += 1
      case_test = 0
    end
      sonGemme()
    end
  end
  
  for gemmer in gemmers
    if collisionPerso(gemmer) and not gemmer.touched then
      gemmer.touched = 1
    local case_test = 0
    local colonne_test = 0
    for i=1 to 16
      for j=1 to 10
        if map.get(colonne_test,case_test).indexOf("pgemr_ouverte") > 0 then
            map.set(colonne_test,case_test,"_pgemr_colh_colb_colg_cold")
         elsif map.get(colonne_test,case_test).indexOf("pgemr_colh_colb_colg_cold") > 0 then
            map.set(colonne_test,case_test,"_pgemr_ouverte")
        end 
      case_test +=1
      end
      colonne_test += 1
      case_test = 0
    end
      sonGemme()
    end
  end
  
    for gemmej in gemmejs
    if collisionPerso(gemmej) and not gemmej.touched then
      gemmej.touched = 1
    local case_test = 0
    local colonne_test = 0
    for i=1 to 16
      for j=1 to 10
        if map.get(colonne_test,case_test).indexOf("pgemj_ouverte") > 0 then
            map.set(colonne_test,case_test,"_pgemj_colh_colb_colg_cold")
         elsif map.get(colonne_test,case_test).indexOf("pgemj_colh_colb_colg_cold") > 0 then
            map.set(colonne_test,case_test,"_pgemj_ouverte")
        end 
      case_test +=1
      end
      colonne_test += 1
      case_test = 0
    end
      sonGemme()
    end
    end
    
  for cube in cubes
    if collisionPerso(cube) then
      perso.cubes += 1
      if animationCube == 0 then
        animationCube = 240
      elsif animationCube < 180 then
        animationCube = 180
      end
      maps["map"+mapnum].set((150+cube.x)/20,(90+cube.y)/20,0)
      collectedCubes.push(object x=cube.x y=cube.y map=mapnum end)
      cubes.remove(cubes.indexOf(cube))
      sonCube()
    end
  end 
  animationCube = max(0,animationCube-1)
    
end

dessineCheckpoints = function()
  for checkpoint in checkpoints
      if mapnum == perso.spawnMap and collision(checkpoint.x,checkpoint.y,perso.spawnX,perso.spawnY) and checkpoint.animation == 0 then
        screen.drawSprite("checkpoint.11",checkpoint.x,checkpoint.y,20)
      elsif checkpoint.animationFrame < 66 then
        sprites["checkpoint"].setFrame(checkpoint.animationFrame/6)
        screen.drawSprite("checkpoint",checkpoint.x,checkpoint.y,20)
      else
        screen.drawSprite("checkpoint.0",checkpoint.x,checkpoint.y,20)
      end
  end
end

dessineGemmeBleue = function()
  for gemmeb in gemmebs
    if gemmeb.touched == 0 then
      screen.drawSprite("gemmeb",gemmeb.x,gemmeb.y,20)
    else
      screen.drawSprite("_old_gemme",gemmeb.x,gemmeb.y,20)
   end
  end
end

dessineGemmeRouge = function()
  for gemmer in gemmers
    if gemmer.touched == 0 then
      screen.drawSprite("gemmer",gemmer.x,gemmer.y,20)
    else
      screen.drawSprite("_old_gemme",gemmer.x,gemmer.y,20)
   end
  end
end

dessineGemmeJaune = function()
  for gemmej in gemmejs
    if gemmej.touched == 0 then
      screen.drawSprite("gemmej",gemmej.x,gemmej.y,20)
    else
      screen.drawSprite("_old_gemme",gemmej.x,gemmej.y,20)
   end
  end
end

dessineCube = function()
  for cube in cubes
    screen.drawSprite("cube",cube.x,cube.y,20)
  end
  if animationCube != 0 then
    screen.setColor("rgb(198,81,22)")
    if animationCube > 180 then
      screen.drawSprite("panneau",0,screen.height/2-195+animationCube,100)
      screen.drawText("x "+ perso.cubes,10,screen.height/2-197+animationCube,20,"rgb(240,240,240)")
      screen.drawSprite("cube",-20,screen.height/2-199+animationCube,30)
      //1
    elsif animationCube < 60 then
      screen.drawSprite("panneau"0,screen.height/2+45-animationCube,100)
      screen.drawText("x "+ perso.cubes,10,screen.height/2+43-animationCube,20,"rgb(240,240,240)")
      screen.drawSprite("cube",-20,screen.height/2+42-animationCube,30)
      //3
    else
      screen.drawSprite("panneau"0,screen.height/2-15,100)
      screen.drawText("x "+ perso.cubes,10,screen.height/2-17,20,"rgb(240,240,240)")
      screen.drawSprite("cube",-20,screen.height/2-19,30)

      //2
    end
  end
end

init = function()
  touchKeys.arrows = not system.inputs.keyboard
  perso.spawnX = -130
  perso.spawnY = 10
  perso.cubes = 0
  walkParticles = []
  sound = 1
  music = 1
  timer = 0
  collectedCubes = []
  game_state = "start"
  soundtrack = audio.playMusic("bonjovirunaway", 1, 1)
  init_music()
  parallax = createParallax()
  parallax.add("layer1",1000,20,5)
  parallax.add("layer2",1000,0,3)
  //parallax.add("layer3",1000,0,5)

end

start = function()
  mapnum = perso.spawnMap
  map = maps["map"+mapnum]
  game_state = "game"
  perso = object
    spawnMap = mapnum
    spawnX = perso.spawnX
    spawnY = perso.spawnY
    x = perso.spawnX
    y = perso.spawnY
    speedX = 2
    speedY = 1
    gravity = 0.2
    sens = 1
    legs=0
    cubes = perso.cubes
    deaths = perso.deaths
 end
  map_loaded = 0
  init_music()
end

chargeMap = function()
  map = map.clone()
  walkers = []
  smartwalkers = []
  evils = []
  evilghosts = []
  cannons = []
  cannonls =[]
  flyingcannons = []
  flyingcannonsl = []
  cannonballs = []
  flyingcannonballs = []
  cannonballparticules = []
  checkpoints = []
  gemmebs = []
  gemmers =[]
  gemmejs = []
  mushrooms = []
  waters = []
  strawberrys = []
  pasteques = []
  cubes  = []
 if scrolling == 0 then
  for i=0 to map.width-1
    for j=0 to map.height-1
      local m = map.get(i,j)
      if m == "walker" then
        map.set(i,j,0)
        walkers.push(object x=-150+i*20 y=-90+j*20 vx = -1 end)
      elsif m == "smartwalker" then
        map.set(i,j,0)
        smartwalkers.push(object x=-150+i*20 y=-90+j*20 vx = -1 end)
      elsif m == "evil" or m == "evil_course" or m == "evil_saut" then
        map.set(i,j,0)
        evils.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "cannon" then
        map.set(i,j,0)
        cannons.push(object x=-150+i*20 y=-90+j*20 shoot = 80 end)
      elsif m == "cannonl" then
        map.set(i,j,0)
        cannonls.push(object x=-150+i*20 y=-90+j*20 shoot = 80 end)
      elsif m == "cannonball" then
        map.set(i,j,0)
        cannonballs.push(object x=-150+i*20 y=-90+j*20 vx = -2 end)
      elsif m == "checkpoint" then
        map.set(i,j,0)
        checkpoints.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "gemmeb" then
        map.set(i,j,0)
        gemmebs.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "gemmer" then
        map.set(i,j,0)
        gemmers.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "gemmej" then
        map.set(i,j,0)
        gemmejs.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "mushroom" then
        map.set(i,j,0)
        mushrooms.push(object x=-150+i*20 y=-90+j*20 vx = 1.5 end)
      elsif m == "water" then
        map.set(i,j,0)
        waters.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "strawberry" then
        map.set(i,j,0)
        strawberrys.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "pasteque" then
        map.set(i,j,0)
        pasteques.push(object x=-150+i*20 y=-90+j*20 end)
      elsif m == "flyingcannon" then
        map.set(i,j,0)
        flyingcannons.push(object x=-150+i*20 y=-90+j*20 shoot  = 80 end)
      elsif m == "flyingcannonl" then
        map.set(i,j,0)
        flyingcannonsl.push(object x=-150+i*20 y=-90+j*20 shoot  = 80 end)
      elsif m == "flyingcannonball" then
        map.set(i,j,0)
        flyingcannonballs.push(object x=-150+i*20 y=-90+j*20 vx = -1.7 end)
      elsif m == "cube" then
        map.set(i,j,0)
        for cube=0 to collectedCubes.length
          if collectedCubes[cube].x == -150+i*20 and collectedCubes[cube].y == -90+j*20 and -90+j*20 and collectedCubes[cube].map == mapnum then
            maps["map"+mapnum].set(i,j,0)
          end
        end
        if maps["map"+mapnum].get(i,j) == "cube" then
          cubes.push(object x=-150+i*20 y=-90+j*20 end)
        else
        end

      end
    end
  end
 end
  if mapnum == 41 then
    gameover = 1
  end
  map.update()

end


findCubes = function(mapNb)
  //compte le nombre de cubes total
  nbCubes = 0
    for map=1 to mapNb
      //map = map.mapNb+1
      //print(map)
      for i=0 to 15
        for j=0 to 9
          local m = maps["map"+map].get(i,j)
          if m == "cube" then
            nbCubes += 1
          end
        end
      end
    end
  return nbCubes
end

changeMap = function()

 if perso.x > 149 and perso.vx > 0 and scrolling == 0 or scrolling > 0 then
   scrolling += 1
   //parallax.x += 1
   if scrolling == 1 then
     chargeMap()
   end
 end
 if scrolling >= 40 then
   mapnum += 1
   map = maps["map"+mapnum]
   chargeMap()
   perso.x = -150
   perso.vx = 0
   scrolling = 0
   chargeMap()
   //sonChangingMap()
 end
 
   if perso.x < -149 and perso.vx < 0 and scrollong == 0 and mapnum !=0 or scrolling < 0 then 
   scrolling -= 1
   //parallax.x -= 1
  end
  if scrolling == -1 then
   chargeMap()
  end
  if scrolling <= -40 then
   mapnum -= 1
   map = maps["map"+mapnum]
   chargeMap()
   perso.x = 150
   perso.vx = 0
   scrolling = 0
   chargeMap()
//  sonChangingMap()
  end
  
 end
end

createParallax = function()
  local parallax = object
    x = 0
    y = 0
    
    planes = []
    
    add = function(sprite,size,y=0,z=2)
      local plane = object
        sprite = sprite
        size = size
        y = y
        z = z
      end
      planes.push(plane)
      plane
    end
    
    fmod = function(x,y)
      x-floor(x/y)*y
    end
    
    draw = function()
      for p in planes
        local posx = fmod(-x/p.z,p.size)
        local posy = p.y-y/p.z
        local px = posx
        while px-p.size/2<screen.width/2
          screen.drawSprite(p.sprite,px,posy,p.size)
          px += p.size
        end
        px = posx-p.size
        while px+p.size/2>-screen.width/2
          screen.drawSprite(p.sprite,px,posy,p.size)
          px -= p.size
        end
      end
    end
  end
  
  parallax
end

particles = function()
  
  for cannonballparticule in cannonballparticules
    cannonballparticule.vx *= 0.9
    cannonballparticule.vy -= 0.2
    cannonballparticule.x += cannonballparticule.vx
    cannonballparticule.y += cannonballparticule.vy
    cannonballparticule.rotation += 2
    if cannonballparticule.y < -110 then
      cannonballparticules.remove(cannonballparticules.indexOf(cannonballparticule))
    end
  end
  for evilghost in evilghosts
    evilghost.y += 1
  end
  
  for walkParticle in walkParticles
    walkParticle.y += walkParticle.vy
    walkParticle.vy-= .2
    walkParticle.x += walkParticle.vx
    walkParticle.vx /= 1.2
    walkParticle.size -= 0.3
    if walkParticle.size <= 0.1 then
      walkParticles.remove(walkParticles.indexOf(walkParticle))
    end

   
  end
  
end

walkParticle = function(x,y)
  for i=1 to 5//random.nextInt(4)+5
    walkParticles.push(object x = x y = y-10 vx = (random.nextInt(3)+1)*-perso.sens vy = random.next()+1 size = 5 end)
  end
end

landParticle = function(x,y)
  for i=1 to abs(perso.vy)*3//random.nextInt(4)+5
    walkParticles.push(object x = x y = y-10 vx = (random.nextInt(3)-1)*(perso.vy+1) vy = random.next()+1 size = 5 end)
  end
end


dessineCannonballparticules = function()
  for cannonballparticule in cannonballparticules
    screen.setDrawRotation(cannonballparticule.rotation)
    screen.drawSprite("cannonballparticule",cannonballparticule.x,cannonballparticule.y,20)
  end
  screen.setDrawRotation(0)
end




 

update_pause = function()
  
  if system.inputs.gamepad then

    if gamepad.press.LEFT then
        pause_gamepad_select -= 1
        sonGamepadPause()
    end
    
    if gamepad.press.RIGHT then
        pause_gamepad_select += 1
        sonGamepadPause()
      end
    
    if pause_gamepad_select < 0 then 
      pause_gamepad_select = 3 
    elsif pause_gamepad_select > 3 then
      pause_gamepad_select = 0
    end
    
  end
    
    if playKey() and pause_ready then
      game_state = "game"
      init_music()
      pause_ready = 0
      pause_waiting = 0
    end
    if pause_waiting >= 20 then
      if touch.touching == 0 and not pauseKey() then
        pause_ready = 1
      else
        pause_ready = 0 
      end 
    else
      pause_waiting += 1
    end
    
    if musicKey() then
      if touchmusic_ready == 1 then
        if music != 0 then
          music = 0
          init_music()
        else
          music = 1
          init_music()
        end
        touchmusic_ready = 0
      end
    else 
      touchmusic_ready = 1
    end
    
    if soundKey() then
      if touchsound_ready == 1 then
        if sound != 0 then
          sound = 0
        else
          sound = 1
        end
        touchsound_ready = 0
      end
    else 
      touchsound_ready = 1
    end
    
    if respawnKey() then
      perso.mort = 1
      game_state = "game"
      init_music()
      sonMort()
    end

end

dessinePause = function()
  
  if game_state == "pause" then
    screen.setTranslation(0,0)
    screen.fillRect(0,0,320,200,"rgba(105,105,105,.7)")
    screen.fillRect(0,0,305,185,"rgb(105,105,105)")
    screen.drawText("PAUSE",0,50,50,"rgb(120,19,170)")
    
    //screen.fillRoundRect(-105,75,90,30,5,"rgb(75,75,75)")
    screen.drawSprite("cube.3",-135,75,50)
    screen.drawText("x ",-110,75,20,"rgb(195,195,195)")
    screen.drawText(perso.cubes,-100+(perso.cubes+"").length*6,75,20,"rgb(195,195,195)")

    
    if system.inputs.gamepad then
      screen.fillRoundRect(-75+(pause_gamepad_select*50),0,45,45,5,"rgb(120,19,170)")
    end
    
    screen.drawSprite("touchright.0",-75 0,40)
    if music == 1 then
      screen.drawSprite("touchmusic.0",-25 0,40)
    else
      screen.drawSprite("touchmusic.1",-25 0,40)
    end
    if sound == 1 then
      screen.drawSprite("touchsound.0",25 0,40)
    else
      screen.drawSprite("touchsound.1",25 0,40)
    end
    screen.drawSprite("touchrespawn.0",75 0,40)

    if system.inputs.keyboard then
      screen.drawText("<p>",-75,-30,20,"rgb(0,0,0)")
      screen.drawText("<m>",-25,-30,20,"rgb(0,0,0)")
      screen.drawText("<t>",25,-30,20,"rgb(0,0,0)")
      screen.drawText("<r>",75,-30,20,"rgb(0,0,0)")
      screen.drawText("options also selectable in-game",0,-65,13,"rgb(0,0,0)")
    end
    
    screen.setTranslation(shaking,shaking)
  end  
end


gravity = function(obj)
  if obj == perso then
    obj.vy = obj.vy - min(obj.gravity,0.2)
  else
    obj.vy = obj.vy - 0.2
  end
end

mouvement = function(obj)
  for i=1 to max(obj.speedX,1)
    if obj.vx<0 and not murGauche(obj.x,obj.y) and not murGauche(obj.x,obj.y+obj.legs) then
      obj.x = obj.x + obj.vx
    end
    if obj.vx>0 and not murDroite(obj.x,obj.y) and not murDroite(obj.x,obj.y+obj.legs) then
      obj.x = obj.x + obj.vx
    end
  end
  for i=1 to max(obj.gravity,1)
    if sol(obj.x,obj.y-10) and obj.vy <0 then
      obj.vy = 0
    obj.y = floor(obj.y/20)*20+10
    elsif sol(obj.x,obj.y+10+obj.vy) and obj.vy>0 then
      obj.vy = 0
   else
     obj.y = obj.y + obj.vy
    end
  end
  if obj == perso then
    perso.x = min(max(perso.x,-150),150)
  end
end

trouveCase = function(x,y)
  x = floor((x + 160)/20)
  y = floor((y + 100)/20)
  return map.get(x,y)
end

collisionDamage = function(obj)
  if trouveCase(obj.x+5,obj.y+obj.legs).indexOf("damage") > 0 and obj.vx > 0 or //droite
    trouveCase(obj.x-5,obj.y+obj.legs).indexOf("damage") > 0 and obj.vx < 0 or //gauche
    trouveCase(obj.x-3,obj.y+10+perso.legs).indexOf("damage") > 0 and obj.legs > 0 or//plafond gauche avec taille jambes
     trouveCase(obj.x-3,obj.y+10+perso.legs).indexOf("damage") > 0 and (obj.vy > 0 or obj.gravity < 0) or//plafond gauche avec vy
     trouveCase(obj.x+2,obj.y+10+perso.legs).indexOf("damage") > 0 and obj.legs > 0 or //plafond droite
     trouveCase(obj.x+2,obj.y+10+perso.legs).indexOf("damage") > 0 and (obj.vy > 0 or obj.gravity < 0) or //plafond droite avec vy
    trouveCase(obj.x-3,obj.y-11).indexOf("damage") > 0 and obj.gravity >= 0 or //sol gauche
    trouveCase(obj.x+2,obj.y-11).indexOf("damage") > 0 and obj.gravity >= 0 //sol droite
  then
    obj.y += obj.legs
    obj.legs = 0
    perso.mort = 1
    sonMort()
  end
end

sol = function(x,y)
  if obj.gravity >= 0 then
    return trouveCase(x-3,y-1).indexOf("colh") > 0 
        or trouveCase(x+2,y-1).indexOf("colh") > 0
  else
    return trouveCase(x-3,y+1).indexOf("colb") > 0 
        or trouveCase(x+2,y+1).indexOf("colb") > 0
  end
end

plafond = function(x,y)
  return trouveCase(x-3,y+10).indexOf("colb") > 0 or trouveCase(x+2,y+10).indexOf("colb") > 0 or y >110
end

murGauche = function(x,y)
  if trouveCase(x-5,y).indexOf("cold") > 0 and trouveCase(x-5,y).indexOf("oneway") > 0 and (x%20 >= 3 and x%20 <5 or x%20 <= -16 and x%20 > -18) then
    return 1
  elsif trouveCase(x-5,y).indexOf("cold") > 0 and not (trouveCase(x-5,y).indexOf("oneway") > 0) then
    return 1
  end
end

murDroite = function(x,y)
  if trouveCase(x+5,y).indexOf("colg") > 0 and trouveCase(x+5,y).indexOf("oneway") > 0 and (x%20 >= 16 and x%20 <18 or x%20 <= -3 and x%20 > -5) then
    return 1
  elsif trouveCase(x+5,y).indexOf("colg") > 0 and not (trouveCase(x+5,y).indexOf("oneway") > 0) then
    return 1
  end 
end

collision = function(obj1x,obj1y,obj2x,obj2y,width=14, height=14)
  local dx = obj1x-obj2x
  local dy = obj1y-obj2y
  if dx>-1*width and dx<width and dy>-1*height and dy<height then
    return 1
  else
    return 0
  end
end

collisionPerso = function (obj)
    local dx = obj.x-perso.x
  local dy = obj.y+obj.legs-perso.y-perso.legs
  if dx>-14 and dx<14 and dy>-14 and dy<14 and not perso.mort then
    return 1
  else
    return 0
  end
end

initSpawn = function(obj,x,y)
  obj.spawnX = x
  obj.spawnY = y
  obj.spawnMap = mapnum
  if obj == perso then
    storage.set("spawnX", obj.spawnX)
    storage.set("spawnY", obj.spawnY)
    storage.set("spawnMap", obj.spawnMap)
    storage.set("cubes", obj.cubes)
    storage.set("collectedCubes", collectedCubes)
    storage.set("deaths", perso.deaths)
    storage.set("timer", timer)
    
  end
end








update_powerups = function()
  
    for mushroom in mushrooms
      gravity(mushroom)
      mouvement(mushroom)
      
      if murDroite(mushroom.x,mushroom.y) then
        mushroom.vx *=-1
      end
      if murGauche(mushroom.x,mushroom.y) then
        mushroom.vx *=-1
      end
      
      if collisionPerso(mushroom) then
      // ajouter les effets ici
      initPowerup()
      perso.speedY = 3
      perso.powerupInitialTimer = 720 //12secs
      perso.powerupTimer = perso.powerupInitialTimer
      mushrooms.remove(mushrooms.indexOf(mushroom))
      perso.powerupIcon = "grow"
      sonMushroom()
      end
    end
  
  for water in waters
    if collisionPerso(water) then
      initPowerup()
      waters.remove(waters.indexOf(water))
      sonWater()
    end
  end
  
  for strawberry in strawberrys
    if collisionPerso(strawberry) then
      initPowerup()
      perso.speedX = 6
      perso.powerupInitialTimer = 720 //12secs
      perso.powerupTimer = perso.powerupInitialTimer
      strawberrys.remove(strawberrys.indexOf(strawberry))
      perso.powerupIcon = "fast"
      sonStrawberry()
    end
  end
  
  for pasteque in pasteques
    if collisionPerso(pasteque) then
      initPowerup()
      perso.gravity = 2
      perso.speedY = .6
      perso.powerupInitialTimer = 720 //12secs
      perso.powerupTimer = perso.powerupInitialTimer
      pasteques.remove(pasteques.indexOf(pasteque))
      perso.powerupIcon = "heavy"
      sonPasteque()
    end
  end
  
  if perso.powerupTimer > 0 then
    if scrolling  == 0 then
      perso.powerupTimer -= 1
    end
  elsif perso.speedX != 2 or perso.speedY != 1 or perso.gravity != 0.2 then
     initPowerup()
     sonInitPowerup()
  end
  
end





dessineStrawberry = function()
  for strawberry in strawberrys
    screen.drawSprite("strawberry",strawberry.x,strawberry.y,20)
  end
end

dessineMushroom = function()
  for mushroom in mushrooms
    screen.drawSprite("mushroom",mushroom.x,mushroom.y,20)
  end
end

dessinePasteque = function()
  for pasteque in pasteques
    screen.drawSprite("pasteque",pasteque.x,pasteque.y,20)
  end
end

dessineWater = function()
  for water in waters
    screen.drawSprite("water",water.x,water.y,20)
  end
end

dessinePowerupTimer = function()
  if perso.powerupTimer > 0 then
    //screen.drawText(floor(perso.powerupTimer/6)/10,140,90,25,"rgb(255,255,255)")

    screen.fillRound(130,70,35,35,"rgba(255,255,255,.5)")
    local rotation = 0
    for i=1 to ceil((perso.powerupTimer/perso.powerupInitialTimer)*180)
      local r = 255-i
      local g = 0
      local b = i
      local color = "rgb(" + r + "," + g + "," + b + ")"
      rotation += 2
      screen.setDrawRotation(rotation)
      screen.setDrawAnchor(0,-15)
      screen.fillRect(130,70,2,2,color)
    end
      screen.setDrawRotation(0)
      screen.setDrawAnchor(0,0)
      
    screen.drawSprite("powerup_"+perso.powerupIcon,130,70,20)

  end
end



update_start = function()
  
   if title.size == 0 then
      title.y= 50
      title.size=25
    end
    
    if startScrolling >= 40 then
      start()
    elsif startScrolling > 0 then
      startScrolling += 1
    elsif newGameKey() then
      startScrolling = 1
      sonStart()
      soundtrack = audio.playMusic("bonjovirunaway", .100,100)
    elsif continueKey() and storage.get("spawnMap") then//no checkpoint in map0 
      initContinue()
      startScrolling = 40 //no animation
      sonStart()
    end
    parallax.x = -40 + startScrolling
end


initContinue = function()
  perso.spawnX = storage.get("spawnX")
  perso.spawnY = storage.get("spawnY")
  perso.spawnMap = storage.get("spawnMap")
  perso.cubes = storage.get("cubes")
  perso.deaths = storage.get("deaths")
  collectedCubes = storage.get("collectedCubes")
  timer = storage.get("timer")
  soundtrack = audio.playMusic("bonjovirunaway", .100,100)

end

draw_start = function()
  
  screen.fillRect(0,0,320,190,"rgb(76,227,0)")
  parallax.draw()
  screen.drawMap("start",-startScrolling*8,0,320,200)
  screen.drawMap("map0",-startScrolling*8+320,0,320,200)
  if startScrolling == 0 then
    screen.drawSprite("perso",110,10,34)
  else
    screen.drawSprite("perso_course",110-startScrolling*6,10,34)
    
  end
  screen.setFont("GrapeSoda")
  screen.drawText("Lemmy Long Legs 2",-startScrolling*8,title.y-2,title.size-1,"rgb(0,0,0)")
  screen.drawText("Lemmy Long Legs 2",-startScrolling*8,title.y,title.size,"rgb(113,0,170)")

  if storage.get("spawnMap") then
    screen.fillRoundRect(-startScrolling*8,0,120,30,10,"rgb(0,0,0)")
    screen.fillRoundRect(-startScrolling*8,5,120,30,10,"rgb(113,0,170)")
    screen.drawText("Continue",-startScrolling*8,5,20,"rgb(76,227,0)")
  else
  screen.fillRoundRect(-startScrolling*8,0,120,30,10,"rgba(0,0,0,.5)")
    screen.fillRoundRect(-startScrolling*8,5,120,30,10,"rgba(120,120,120,.5)")
    screen.drawText("Continue",-startScrolling*8,5,20,"rgba(195,195,195,.5)")
  end

  screen.fillRoundRect(-startScrolling*8,-50,120,30,10,"rgb(0,0,0)")
  screen.fillRoundRect(-startScrolling*8,-45,120,30,10,"rgb(113,0,170)")
  screen.drawText("New Game",-startScrolling*8,-45,20,"rgb(76,227,0)")
  
  screen.fillRect(-360,0,400,200,"rgb(0,0,0)")
  screen.fillRect(360,0,400,200,"rgb(0,0,0)")
  
end

update = function()
  for s in sprites
    if not sprites[s].ready then
      return
    end
  end
  if not map_loaded and map.ready then
    chargeMap()
    map_loaded = 1
  end
  
  
  
  if screen.height > screen.width then
    game_state = "vertical"
  end
  if debug == 0 or (debug == 1 and debug_fps >= 0) then
    if game_state == "start" then
      update_start()
    elsif game_state == "game" then
      if drawfps_fps >= 15 then
        update_ennemies()
        update_items()
        update_powerups()
        update_game()
      end
    elsif game_state == "pause" then
        update_pause()
    elsif game_state == "vertical" then
        update_vertical()
    end

    debug_fps = 0
  else 
    debug_fps += 1 
  end
end
  
initPowerup = function()
  perso.speedX = 2
  perso.speedY = 1
  perso.gravity = 0.2
  perso.powerupIcon = ""
  perso.powerupTimer = 0
  perso.powerupInitialTimer = 0
end


update_vertical = function()

  if screen.width > screen.height then
    if startScrolling < 40 then
      startScrolling = 0
      game_state = "start"
      init_music()
    else
      game_state = "pause"
      init_music()
    end
  end
  
end


</script></html>